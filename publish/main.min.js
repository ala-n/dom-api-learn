!function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/static/js/",i(i.s=5)}([function(e,t,i){"use strict";var n=i(9),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o="",a="",r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return s(e,null,[{key:"createNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=document.createElement(e);return t&&(n.id=t),i&&(n.textContent=i),n}},{key:"once",value:function(e,t,i){e.addEventListener(t,function n(s){s.target===e&&(e.removeEventListener(t,n),i(s))},!1)}},{key:"getTransitionEvent",value:function(e){if(o&&!e)return o;o="";for(var t=e||document.createElement("ws"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},n=Object.keys(i),s=0,a=n.length;s<a&&!o;s++){var r=n[s];void 0!==t.style[r]&&(o=i[r])}return o}},{key:"getAnimationEvent",value:function(e){if(a&&!e)return a;a="animationend";for(var t=e||document.createElement("ws"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"},n=Object.keys(i),s=0,o=n.length;s<o;s++){var r=n[s];if(void 0!==t.style[r]){a=i[r];break}}return a}},{key:"hide",value:function(e){e.style.display="none"}},{key:"show",value:function(e){e.style.display=""}},{key:"isVisible",value:function(e){return null!==e.offsetParent}},{key:"fireEvent",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=new n.a(t,{detail:i});e.dispatchEvent(s)}},{key:"toArray",value:function(e){return[].slice.call(e)}},{key:"isFocusableElement",value:function(){var e=!1;if(document.activeElement){var t="inherit"!==document.activeElement.contentEditable&&void 0!==document.activeElement.contentEditable;e=["INPUT","SELECT","OPTION","TEXTAREA"].indexOf(document.activeElement.tagName)>-1||t}return e}},{key:"parseSize",value:function(e){return Number(e.replace(/[^\d\.]/g,""))}},{key:"wrap",value:function(e,t){var i=document.createElement(t);return e.parentElement.insertBefore(i,e),i.appendChild(e),i}},{key:"after",value:function(e,t){var i=t.parentNode;i.lastChild===t?i.appendChild(e):i.insertBefore(e,t.nextSibling)}}]),e}();t.a=r},function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return a});var n=i(0),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o={SLIDE:"slide",CURRENT:"current"},a={ENTER:"dom:enter",LEAVE:"dom:leave",ENABLE:"slide:enable",DISABLE:"slide:disable"},r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=t,this.parent=t.parentNode,this.i=i,this.el.id="section-"+(i+1),this.el.classList.add(o.SLIDE),this.hide()}return s(e,[{key:"hide",value:function(){n.a.hide(this.el),this.el.classList.remove(o.CURRENT)}},{key:"show",value:function(){n.a.show(this.el),this.el.classList.add(o.CURRENT)}},{key:"moveAfterLast",value:function(){var e=this.parent.childNodes[this.parent.childElementCount-1];this.fire_(a.LEAVE),this.parent.insertBefore(this.el,e.nextSibling),this.fire_(a.ENTER)}},{key:"moveBeforeFirst",value:function(){var e=this.parent.childNodes[0];this.fire_(a.LEAVE),this.parent.insertBefore(this.el,e),this.fire_(a.ENTER)}},{key:"enable",value:function(){this.fire_(a.ENABLE)}},{key:"disable",value:function(){this.fire_(a.DISABLE)}},{key:"fire_",value:function(e){n.a.fireEvent(this.el,e,{slide:this})}}],[{key:"isCandidate",value:function(e){return 1===e.nodeType&&"SECTION"===e.tagName}},{key:"getSectionFromEl",value:function(e){for(var t=e,i=null,n=null;t.parentElement&&!t.classList.contains(o.SLIDE);)t=t.parentElement;return t.classList.contains(o.SLIDE)&&(i=t,n=parseInt(i.id.replace("section-",""),10)),{section:i,i:n}}}]),e}()},function(e,t,i){"use strict";t.a={ENTER:13,SPACE:32,RE_PAGE:33,AV_PAGE:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS:[107,171,187],MINUS:[109,173,189],ESCAPE:27,F:70}},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=window.navigator.userAgent,o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,null,[{key:"isAndroid",value:function(){return!!s.match(/Android/i)}},{key:"isBlackBerry",value:function(){return!!s.match(/BlackBerry/i)}},{key:"isiOS",value:function(){return!!s.match(/iPad|iPhone|iPod/i)}},{key:"isOpera",value:function(){return!!s.match(/Opera Mini/i)}},{key:"isWindows",value:function(){return!!s.match(/IEMobile/i)}},{key:"isWindowsPhone",value:function(){return!!s.match(/Windows Phone/i)}},{key:"isAny",value:function(){return e.isAndroid()||e.isBlackBerry()||e.isiOS()||e.isOpera()||e.isWindows()||e.isWindowsPhone()}}]),e}();t.a=o},function(e,t,i){"use strict";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;s=o||document.getElementById("webslides");var a=e-s.scrollTop,r=s.scrollTop;if(!t)return s.scrollTop=e,void i();!function o(l){l+=16;var u=Math.min(1,l/t),c=n.a.swing(u,l*u,e,a,t);s.scrollTop=Math.floor(r+c*a),l<t?setTimeout(function(){return o(l)},16):i()}(0)};var n=i(20),s=document.getElementById("webslides")},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(6);i(21),window.WebSlides=n.a},function(e,t,i){"use strict";var n=i(7),s=i(1),o=i(0),a=i(4),r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var l={VERTICAL:"vertical",READY:"ws-ready",DISABLED:"disabled"},u={autoslide:n.a.AutoSlide,clickNav:n.a.ClickNav,grid:n.a.Grid,hash:n.a.Hash,keyboard:n.a.Keyboard,nav:n.a.Navigation,scroll:n.a.Scroll,touch:n.a.Touch,video:n.a.Video,youtube:n.a.YouTube,zoom:n.a.Zoom},c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.autoslide,n=void 0!==i&&i,s=t.changeOnClick,o=void 0!==s&&s,a=t.loop,r=void 0===a||a,u=t.minWheelDelta,c=void 0===u?40:u,d=t.navigateOnScroll,h=void 0===d||d,f=t.scrollWait,v=void 0===f?450:f,y=t.slideOffset,p=void 0===y?50:y,m=t.showIndex,b=void 0===m||m;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.el=document.getElementById("webslides"),!this.el)throw new Error("Couldn't find the webslides container!");this.isMoving=!1,this.slides=null,this.currentSlideI_=-1,this.currentSlide_=null,this.maxSlide_=0,this.isVertical=this.el.classList.contains(l.VERTICAL),this.plugins={},this.options={autoslide:n,changeOnClick:o,loop:r,minWheelDelta:c,navigateOnScroll:h,scrollWait:v,slideOffset:p,showIndex:b},this.initialised=!1,this.removeChildren_(),this.grabSlides_(),this.createPlugins_(),this.initSlides_(),this.onInit_()}return r(e,[{key:"removeChildren_",value:function(){for(var e=this.el.childNodes,t=e.length;t--;){var i=e[t];s.b.isCandidate(i)||this.el.removeChild(i)}}},{key:"createPlugins_",value:function(){var e=this;Object.keys(u).forEach(function(t){var i=u[t];e.plugins[t]=new i(e)})}},{key:"onInit_",value:function(){this.initialised=!0,o.a.fireEvent(this.el,"ws:init"),document.documentElement.classList.add(l.READY)}},{key:"grabSlides_",value:function(){this.slides=o.a.toArray(this.el.childNodes).map(function(e,t){return new s.b(e,t)}),this.maxSlide_=this.slides.length}},{key:"goToSlide",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isValidIndexSlide_(e)&&!this.isMoving&&this.currentSlideI_!==e){this.isMoving=!0;var i=!1;null!==t?i=t:this.currentSlideI_>=0&&(i=e>this.currentSlideI_);var n=this.slides[e];null===this.currentSlide_||!this.isVertical||this.plugins.touch&&this.plugins.touch.isEnabled?this.transitionToSlide_(i,n,this.onSlideChange_):this.scrollTransitionToSlide_(i,n,this.onSlideChange_)}}},{key:"scrollTransitionToSlide_",value:function(e,t,i){var n=this;this.el.style.overflow="hidden",e?t.show():(t.moveBeforeFirst(),t.show(),Object(a.a)(this.currentSlide_.el.offsetTop,0)),Object(a.a)(t.el.offsetTop,500,function(){n.currentSlide_.hide(),e&&n.currentSlide_.moveAfterLast(),n.el.style.overflow="auto",setTimeout(function(){i.call(n,t)},150)})}},{key:"transitionToSlide_",value:function(e,t,i){var n=this;Object(a.a)(0,0);var s="slideInRight";e||(t.moveBeforeFirst(),s="slideInLeft"),this.currentSlide_&&(e&&this.currentSlide_.moveAfterLast(),this.currentSlide_.hide()),t.show(),this.initialised&&this.plugins.touch&&this.plugins.touch.isEnabled?(o.a.once(t.el,o.a.getAnimationEvent(),function(){t.el.classList.remove(s),i.call(n,t)}),t.el.classList.add(s)):i.call(this,t)}},{key:"onSlideChange_",value:function(e){this.currentSlide_&&this.currentSlide_.disable(),this.currentSlide_=e,this.currentSlideI_=e.i,this.currentSlide_.enable(),this.isMoving=!1,o.a.fireEvent(this.el,"ws:slide-change",{slides:this.maxSlide_,currentSlide0:this.currentSlideI_,currentSlide:this.currentSlideI_+1})}},{key:"goNext",value:function(){var e=this.currentSlideI_+1;if(e>=this.maxSlide_){if(!this.options.loop)return;e=0}this.goToSlide(e,!0)}},{key:"goPrev",value:function(){var e=this.currentSlideI_-1;if(e<0){if(!this.options.loop)return;e=this.maxSlide_-1}this.goToSlide(e,!1)}},{key:"isValidIndexSlide_",value:function(e){return"number"==typeof e&&e>=0&&e<this.maxSlide_}},{key:"initSlides_",value:function(){var e=this.plugins.hash.constructor.getSlideNumber();if((null===e||e>=this.maxSlide_)&&(e=0),0!==e)for(var t=0;t<e;)this.slides[t].moveAfterLast(),t++;this.goToSlide(e)}},{key:"toggleZoom",value:function(){this.options.showIndex&&this.plugins.zoom.toggleZoom()}},{key:"disable",value:function(){this.el.classList.add(l.DISABLED),this.plugins.autoslide&&!1!==this.plugins.autoslide.time&&this.plugins.autoslide.stop()}},{key:"enable",value:function(){this.el.classList.remove(l.DISABLED),this.plugins.autoslide&&!1!==this.plugins.autoslide.time&&this.plugins.autoslide.play()}},{key:"isDisabled",value:function(){return this.el.classList.contains(l.DISABLED)}},{key:"fullscreen",value:function(){var e=document.documentElement;document.fullscreen||document.webkitIsFullScreen||document.mozFullScreen||document.msFullScreenElement?(document.exitFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen).call(document):(e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen).call(e)}}],[{key:"registerPlugin",value:function(e,t){u[e]=t}}]),e}();t.a=c},function(e,t,i){"use strict";var n=i(8),s=i(10),o=i(11),a=i(12),r=i(13),l=i(14),u=i(15),c=i(16),d=i(17),h=i(18),f=i(19);t.a={AutoSlide:n.a,ClickNav:s.a,Grid:o.a,Hash:a.a,Keyboard:r.a,Navigation:l.a,Scroll:u.a,Touch:c.a,Video:d.a,YouTube:h.a,Zoom:f.a}},function(e,t,i){"use strict";var n=i(0),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,this.interval_=null,this.time=this.ws_.options.autoslide,this.time&&(n.a.once(t.el,"ws:init",this.play.bind(this)),document.body.addEventListener("focus",this.onFocus.bind(this)))}return s(e,[{key:"onFocus",value:function(){n.a.isFocusableElement()?this.stop():null===this.interval_&&this.play()}},{key:"play",value:function(e){"number"!=typeof e&&(e=this.time),this.time=e,!this.interval_&&"number"==typeof e&&e>0&&(this.interval_=setInterval(this.ws_.goNext.bind(this.ws_),e))}},{key:"stop",value:function(){this.interval_&&(clearInterval(this.interval_),this.interval_=null)}}]),e}();t.a=o},function(e,t,i){"use strict";var n=window.CustomEvent;var s=function(){try{var e=new n("t",{detail:{a:"b"}});return"t"===e.type&&"b"===e.detail.a}catch(e){}return!1}()?n:function(e,t){var i=document.createEvent("CustomEvent");return t?i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):i.initCustomEvent(e,!1,!1,void 0),i};t.a=s},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=["INPUT","SELECT","OPTION","BUTTON","A","TEXTAREA"],o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,t.options.changeOnClick&&this.ws_.el.addEventListener("click",this.onClick_.bind(this))}return n(e,[{key:"onClick_",value:function(e){s.indexOf(e.target.tagName)<0&&void 0===e.target.dataset.preventNav&&this.ws_.goNext()}}]),e}();t.a=o},function(e,t,i){"use strict";var n=i(2),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAgMAAACdGdVrAAAACVBMVEUAAAAtXsUtXcPDDPUWAAAAA3RSTlMAZmHzZFkxAAAAFklEQVQI12MAA9bBR3ExhAJB1iooBQBGwgVEs/QtuAAAAABJRU5ErkJggg==",a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t;var i="body.baseline {\n                  background: url("+o+") left top .8rem/.8rem;\n                }",n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",s.styleSheet?s.styleSheet.cssText=i:s.appendChild(document.createTextNode(i)),n.appendChild(s),document.addEventListener("keydown",this.onKeyPress_.bind(this),!1)}return s(e,[{key:"onKeyPress_",value:function(e){e.which===n.a.ENTER&&document.body.classList.toggle("baseline")}}]),e}();t.a=a},function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var s=/#slide=(\d+)/,o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,t.el.addEventListener("ws:slide-change",e.onSlideChange_),window.addEventListener("hashchange",this.onHashChange_.bind(this),!1)}return n(e,[{key:"onHashChange_",value:function(){var t=e.getSlideNumber();null!==t&&this.ws_.goToSlide(t)}}],[{key:"onSlideChange_",value:function(t){e.setSlideNumber(t.detail.currentSlide)}},{key:"getSlideNumber",value:function(){var e=document.location.hash.match(s),t=0;return Array.isArray(e)&&(t=parseInt(e[1],10)),"number"!=typeof t||t<0||!Array.isArray(e)?t=null:t--,t}},{key:"setSlideNumber",value:function(t){e.getSlideNumber()!==t-1&&history.pushState({slideI:t-1},"Slide "+t,"#slide="+t)}}]),e}();t.a=o},function(e,t,i){"use strict";var n=i(2),s=i(0),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,document.addEventListener("keydown",this.onKeyPress_.bind(this),!1)}return o(e,[{key:"onKeyPress_",value:function(e){var t=void 0,i=void 0;if(!s.a.isFocusableElement()&&!this.ws_.isDisabled()){switch(e.which){case n.a.AV_PAGE:case n.a.SPACE:t=this.ws_.goNext;break;case n.a.RE_PAGE:t=this.ws_.goPrev;break;case n.a.HOME:t=this.ws_.goToSlide,i=0;break;case n.a.END:t=this.ws_.goToSlide,i=this.ws_.maxSlide_-1;break;case n.a.DOWN:t=this.ws_.isVertical?this.ws_.goNext:null;break;case n.a.UP:t=this.ws_.isVertical?this.ws_.goPrev:null;break;case n.a.LEFT:t=this.ws_.isVertical?null:this.ws_.goPrev;break;case n.a.RIGHT:t=this.ws_.isVertical?null:this.ws_.goNext;break;case n.a.F:t=this.ws_.fullscreen}t&&(t.call(this.ws_,i),e.preventDefault())}}}]),e}();t.a=a},function(e,t,i){"use strict";var n=i(0),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o={NAV:"navigation",NEXT:"next",PREV:"previous",COUNTER:"counter"},a={VERTICAL:{NEXT:"↓",PREV:"↑"},HORIZONTAL:{NEXT:"→",PREV:"←"}},r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=t.isVertical?a.VERTICAL:a.HORIZONTAL;this.el=n.a.createNode("div","navigation"),this.next=e.createArrow(o.NEXT,i.NEXT),this.prev=e.createArrow(o.PREV,i.PREV),this.counter=e.createCounter(o.COUNTER,t),this.ws_=t,this.el.appendChild(this.next),this.el.appendChild(this.prev),this.el.appendChild(this.counter),this.ws_.el.appendChild(this.el),this.bindEvents_()}return s(e,[{key:"bindEvents_",value:function(){this.ws_.el.addEventListener("ws:slide-change",this.onSlideChanged_.bind(this)),this.next.addEventListener("click",this.onButtonClicked_.bind(this)),this.prev.addEventListener("click",this.onButtonClicked_.bind(this)),this.counter.addEventListener("click",this.onButtonClicked_.bind(this))}},{key:"updateCounter",value:function(e,t){this.ws_.options.showIndex?this.counter.childNodes[0].textContent=e+" / "+t:this.counter.textContent=e+" / "+t}},{key:"onSlideChanged_",value:function(e){this.updateCounter(e.detail.currentSlide,e.detail.slides)}},{key:"onButtonClicked_",value:function(e){e.preventDefault(),e.target===this.next?this.ws_.goNext():e.target===this.prev?this.ws_.goPrev():this.ws_.toggleZoom()}}],[{key:"createArrow",value:function(e,t){var i=n.a.createNode("a",e,t);return i.href="#",i.title="Arrow Keys",i}},{key:"createCounter",value:function(e,t){var i=n.a.createNode("span",e);if(t.options.showIndex){var s=document.createElement("a");s.href="#",s.title="View all slides",i.appendChild(s)}return i}}]),e}();t.a=r},function(e,t,i){"use strict";var n=i(3),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,this.scrollContainer_=t.el,this.isGoingUp_=!1,this.isGoingLeft_=!1,this.timeout_=null,this.ws_.options.navigateOnScroll&&(n.a.isAny()||(this.scrollContainer_.addEventListener("wheel",this.onMouseWheel_.bind(this)),t.isVertical||t.el.addEventListener("ws:slide-change",this.onSlideChange_.bind(this))))}return s(e,[{key:"onSlideChange_",value:function(){var e=this;this.timeout_=setTimeout(function(){e.timeout_=null},this.ws_.options.scrollWait)}},{key:"onMouseWheel_",value:function(e){if(!this.ws_.isDisabled())if(this.ws_.isMoving||this.timeout_)e.preventDefault();else{var t=e.deltaMode*this.ws_.options.minWheelDelta,i=e.deltaY,n=e.deltaX,s=this.ws_.isVertical,o=Math.abs(n)>Math.abs(i);if(this.isGoingUp_=i<0,this.isGoingLeft_=n<0,o){if(s)return;e.preventDefault()}(Math.abs(i+t)>=this.ws_.options.minWheelDelta||Math.abs(n+t)>=this.ws_.options.minWheelDelta)&&(o&&this.isGoingLeft_||!o&&this.isGoingUp_?this.ws_.goPrev():this.ws_.goNext(),e.preventDefault())}}}]),e}();t.a=o},function(e,t,i){"use strict";var n=i(3),s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var o={touch:{START:"touchstart",MOVE:"touchmove",END:"touchend"},pointer:{START:"pointerdown",MOVE:"pointermove",END:"pointerup"}},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,this.startX_=0,this.startY_=0,this.endX_=0,this.endY_=0,this.isEnabled=!1,this.isGesture=!1,this.startTouches=[],this.endTouches=[];var i=void 0;n.a.isAny()&&(i=window.PointerEvent&&(n.a.isWindows()||n.a.isWindowsPhone())?o.pointer:o.touch,this.isEnabled=!0,document.addEventListener(i.START,this.onStart_.bind(this),!1),document.addEventListener(i.MOVE,this.onMove_.bind(this),!1),document.addEventListener(i.END,this.onStop_.bind(this),!1))}return s(e,[{key:"onStart_",value:function(t){if(!this.ws_.isDisabled()){var i=e.normalizeEventInfo(t);1===t.touches.length?(this.startX_=i.x,this.startY_=i.y,this.endX_=i.x,this.endY_=i.y):t.touches.length>1&&(this.startTouches=e.getTouchCoordinates(t),this.endTouches=this.startTouches,this.isGesture=!0)}}},{key:"onMove_",value:function(t){if(!this.ws_.isDisabled()){var i=e.normalizeEventInfo(t);this.isGesture?this.endTouches=e.getTouchCoordinates(t):(this.endX_=i.x,this.endY_=i.y)}}},{key:"onStop_",value:function(){if(!this.ws_.isDisabled())if(this.isGesture)this.isGesture=!1;else{var e=this.startX_-this.endX_,t=this.startY_-this.endY_;Math.abs(e)>Math.abs(t)&&(e<-this.ws_.options.slideOffset?this.ws_.goPrev():e>this.ws_.options.slideOffset&&this.ws_.goNext())}}}],[{key:"getTouchCoordinates",value:function(e){return[{x:e.touches[0].clientX,y:e.touches[0].clientY},{x:e.touches[1].clientX,y:e.touches[1].clientY}]}},{key:"normalizeEventInfo",value:function(e){var t={pageX:0,pageY:0};return void 0!==e.changedTouches?t=e.changedTouches[0]:void 0!==e.originalEvent&&void 0!==e.originalEvent.changedTouches&&(t=e.originalEvent.changedTouches[0]),{x:e.offsetX||e.layerX||t.pageX,y:e.offsetY||e.layerY||t.pageY}}}]),e}();t.a=a},function(e,t,i){"use strict";var n=i(0),s=i(1),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t;var i=n.a.toArray(this.ws_.el.querySelectorAll("video"));i.length&&i.forEach(function(i){if(i.hasAttribute("autoplay")){i.removeAttribute("autoplay"),i.pause(),i.currentTime=0;var n=s.b.getSectionFromEl(i).i,o=t.slides[n-1];o.video=i,o.el.addEventListener(s.a.ENABLE,e.onSectionEnabled),o.el.addEventListener(s.a.DISABLE,e.onSectionDisabled)}})}return o(e,null,[{key:"onSectionEnabled",value:function(e){e.detail.slide.video.play()}},{key:"onSectionDisabled",value:function(e){e.detail.slide.video.pause()}}]),e}();t.a=a},function(e,t,i){"use strict";var n=i(0),s=i(1),o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(t){a(this,e),this.ready=!1,this.onReadyCb=null,this.slide=s.b.getSectionFromEl(t).section,this.autoplay=void 0!==t.dataset.autoplay,this.isMuted=void 0!==t.dataset.mute,this.options={videoId:t.dataset.youtubeId,playerVars:this.getPlayerVars(t),events:{onReady:this.onPlayerReady.bind(this)}},this.el=t,this.timeout=null,this.create()}return o(e,[{key:"destroy",value:function(){this.currentTime=this.player.getCurrentTime(),this.player.destroy(),this.player=null,this.el=this.slide.querySelector("[data-youtube]"),this.ready=!1}},{key:"create",value:function(){this.player=new YT.Player(this.el,this.options),this.el=this.player.getIframe()}},{key:"onPlayerReady",value:function(){this.ready=!0,this.currentTime&&(this.player.seekTo(this.currentTime,!0),this.player.pauseVideo(),this.currentTime=null),this.timeout&&1!==this.player.getPlayerState()&&this.play(),this.onReadyCb&&(this.onReadyCb(),this.onReadyCb=null)}},{key:"play",value:function(){var e=this;this.ready?(this.timeout=setTimeout(function(){e.timeout=null},1e3),this.isMuted?this.player.mute():this.player.unMute(),this.player.playVideo()):this.onReadyCb=this.play}},{key:"pause",value:function(){this.player&&this.player.pauseVideo&&1===this.player.getPlayerState()&&this.player.pauseVideo()}},{key:"getPlayerVars",value:function(e){var t={modestbranding:1,rel:0,origin:window.location.origin};return this.slide.classList.contains("fullscreen")&&(t.disablekb=1),void 0!==e.dataset.noControls&&(t.controls=0,t.showinfo=0),void 0!==e.dataset.loop&&(t.loop=1,t.playlist=e.dataset.youtubeId),t}}]),e}(),l=function(){function e(t){a(this,e),this.ws_=t,this.videos=n.a.toArray(this.ws_.el.querySelectorAll("[data-youtube]")),this.videos.length&&this.inject()}return o(e,[{key:"onYTReady",value:function(){var t=this;this.videos.forEach(function(i){var n=new r(i);if(void 0!==i.dataset.autoplay){var o=s.b.getSectionFromEl(n.el).i,a=t.ws_.slides[o-1];a.player=n,a.el.addEventListener(s.a.ENABLE,e.onSlideEvent),a.el.addEventListener(s.a.DISABLE,e.onSlideEvent),a.el.addEventListener(s.a.ENTER,e.onSlideEvent),a.el.addEventListener(s.a.LEAVE,e.onSlideEvent),t.ws_.currentSlide_===a&&e.onSectionEnabled(a)}})}},{key:"inject",value:function(){window.onYouTubeIframeAPIReady=this.onYTReady.bind(this);var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}}],[{key:"onSlideEvent",value:function(t){var i=t.detail.slide;switch(t.type){case s.a.ENABLE:e.onSectionEnabled(i);break;case s.a.DISABLE:e.onSectionDisabled(i);break;case s.a.LEAVE:i.player.destroy();break;case s.a.ENTER:i.player.create()}}},{key:"onSectionEnabled",value:function(e){e.player.autoplay&&e.player.play()}},{key:"onSectionDisabled",value:function(e){e.player.pause()}}]),e}();t.a=l},function(e,t,i){"use strict";var n=i(0),s=i(2),o=i(4),a=i(1),r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}();var l="grid",u="column",c="wrap-zoom",d="wrap",h="current",f="ws-ready-zoom",v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ws_=t,this.zws_={},this.isZoomed_=!1,this.preBuildZoom_(),document.body.addEventListener("keydown",this.onKeyDown.bind(this))}return r(e,[{key:"onKeyDown",value:function(e){!this.isZoomed_&&s.a.MINUS.some(function(t){return t===e.which})?this.zoomIn():this.isZoomed_&&(s.a.PLUS.some(function(t){return t===e.which})||e.which===s.a.ESCAPE)&&this.zoomOut()}},{key:"preBuildZoom_",value:function(){var e=this;this.zws_.el=this.ws_.el.cloneNode(),this.zws_.el.id="webslides-zoomed",this.zws_.wrap=n.a.createNode("div"),this.zws_.wrap.className=d,this.zws_.el.appendChild(this.zws_.wrap),this.zws_.grid=n.a.createNode("div"),this.zws_.grid.className=l,this.zws_.wrap.appendChild(this.zws_.grid),this.zws_.el.addEventListener("click",function(){return e.toggleZoom()}),this.zws_.slides=[].map.call(this.ws_.slides,function(t,i){var n=t.el.cloneNode(!0);return e.zws_.grid.appendChild(n),new a.b(n,i)}),this.disable(),n.a.after(this.zws_.el,this.ws_.el),this.zws_.slides.forEach(function(t){return e.createSlideBlock_(t)})}},{key:"createSlideBlock_",value:function(e){var t=this,i=n.a.wrap(e.el,"div");i.className=c,i.setAttribute("id","zoomed-"+e.el.getAttribute("id"));var s=n.a.wrap(i,"div");s.className=u;var o=n.a.createNode("div");o.className="zoom-layer",o.addEventListener("click",function(i){i.stopPropagation(),t.zoomOut(),t.ws_.goToSlide(e.i)}),i.appendChild(o);var a=n.a.createNode("p","",""+(e.i+1));a.className="text-slide-number",s.appendChild(a)}},{key:"toggleZoom",value:function(){this.isZoomed_?this.zoomOut():this.zoomIn()}},{key:"zoomIn",value:function(){var e=this;if(this.ws_.options.showIndex){this.enable();var t=this.ws_.currentSlide_.el.id,i=this.zws_.el.querySelector("."+c+"."+h);i&&i.classList.remove(h);var s=this.zws_.el.querySelector("#zoomed-"+t);s.classList.add(h),this.isZoomed_=!0,document.documentElement.classList.add(f),setTimeout(function(){e.ws_.disable(),e.zws_.el.classList.add("in");var t=window.getComputedStyle(e.zws_.grid),i=document.body;Object(o.a)(s.parentNode.offsetTop+n.a.parseSize(t.paddingTop),50,function(){},i)},50)}}},{key:"zoomOut",value:function(){var e=this;this.ws_.options.showIndex&&(this.zws_.el.classList.remove("in"),setTimeout(function(){e.ws_.enable(),e.disable(),e.isZoomed_=!1,document.documentElement.classList.remove(f)},400))}},{key:"disable",value:function(){this.zws_.el.classList.add("disabled")}},{key:"enable",value:function(){this.zws_.el.classList.remove("disabled")}}]),e}();t.a=v},function(e,t,i){"use strict";t.a={swing:function(e){return.5-Math.cos(e*Math.PI)/2}}},function(e,t){}]),function(){function e(e,t){e&&Array.prototype.forEach.call(e,t)}function t(t){var i=document.querySelector("template#"+t);if(i){var n=document.importNode(i.content,!0),s=n.querySelectorAll("script.codepen-js"),o=n.querySelectorAll("style.codepen-css"),a="",r="",l="";e(s,function(e){a+=e.innerHTML+"\n",n.removeChild(e)}),e(o,function(e){r+=e.innerHTML+"\n",n.removeChild(e)});var u,c,d,h,f,v=document.createElement("div");v.appendChild(n.cloneNode(!0)),l+=v.innerHTML,u="Example",c=l,d=r,h=a,(f=document.querySelector('form[action="https://codepen.io/pen/define"]'))&&(f.querySelector("input[name=data]").setAttribute("value",JSON.stringify({title:u,html:c,css:d,js:h})),f.submit())}}e(document.querySelectorAll("[data-codepen-id]"),function(e){var i=e.getAttribute("data-codepen-id");i&&e.addEventListener("click",function(e){t(i),e.stopPropagation(),e.preventDefault()})})}(window);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnNsaWRlcy5qcyIsImNvZGVwZW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2N1c3RvbV9ldmVudF9fIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwibGVuZ3RoIiwiZGVzY3JpcHRvciIsIndyaXRhYmxlIiwia2V5IiwiQ29uc3RydWN0b3IiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJ0cmFuc2l0aW9uRXZlbnQiLCJhbmltYXRpb25FdmVudCIsIkRPTSIsImluc3RhbmNlIiwiVHlwZUVycm9yIiwiX2NsYXNzQ2FsbENoZWNrIiwidGhpcyIsInZhbHVlIiwidGFnIiwiaWQiLCJhcmd1bWVudHMiLCJ1bmRlZmluZWQiLCJ0ZXh0Iiwibm9kZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRleHRDb250ZW50IiwiZWwiLCJldmVudCIsImNhbGxiYWNrIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNiIiwiZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvcHRFbCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIldlYmtpdFRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uTmFtZXMiLCJrZXlzIiwidHJhbnNpdGlvbk5hbWUiLCJzdHlsZSIsImFuaW1hdGlvbnMiLCJhbmltYXRpb24iLCJPQW5pbWF0aW9uIiwiTW96QW5pbWF0aW9uIiwiV2Via2l0QW5pbWF0aW9uIiwiYW5pbWF0aW9uTmFtZXMiLCJhbmltYXRpb25OYW1lIiwiZGlzcGxheSIsIm9mZnNldFBhcmVudCIsImV2ZW50VHlwZSIsImV2ZW50SW5mbyIsImRldGFpbCIsImRpc3BhdGNoRXZlbnQiLCJpdGVyYWJsZSIsInNsaWNlIiwicmVzdWx0IiwiYWN0aXZlRWxlbWVudCIsImlzQ29udGVudEVkaXRhYmxlIiwiY29udGVudEVkaXRhYmxlIiwiaW5kZXhPZiIsInRhZ05hbWUiLCJwcm9wIiwiTnVtYmVyIiwicmVwbGFjZSIsImVsZW0iLCJ3cmFwIiwicGFyZW50RWxlbWVudCIsImluc2VydEJlZm9yZSIsImFwcGVuZENoaWxkIiwicGFyZW50IiwicGFyZW50Tm9kZSIsImxhc3RDaGlsZCIsIm5leHRTaWJsaW5nIiwiU2xpZGUiLCJFdmVudHMiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fIiwiQ0xBU1NFUyIsIlNMSURFIiwiQ1VSUkVOVCIsIkVOVEVSIiwiTEVBVkUiLCJFTkFCTEUiLCJESVNBQkxFIiwiY2xhc3NMaXN0IiwiYWRkIiwiaGlkZSIsInJlbW92ZSIsInNob3ciLCJsYXN0IiwiY2hpbGROb2RlcyIsImNoaWxkRWxlbWVudENvdW50IiwiZmlyZV8iLCJmaXJzdCIsImZpcmVFdmVudCIsInNsaWRlIiwibm9kZVR5cGUiLCJzZWN0aW9uIiwiY29udGFpbnMiLCJwYXJzZUludCIsIlNQQUNFIiwiUkVfUEFHRSIsIkFWX1BBR0UiLCJFTkQiLCJIT01FIiwiTEVGVCIsIlVQIiwiUklHSFQiLCJET1dOIiwiUExVUyIsIk1JTlVTIiwiRVNDQVBFIiwiRiIsIlVBIiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiTW9iaWxlRGV0ZWN0b3IiLCJtYXRjaCIsImlzQW5kcm9pZCIsImlzQmxhY2tCZXJyeSIsImlzaU9TIiwiaXNPcGVyYSIsImlzV2luZG93cyIsImlzV2luZG93c1Bob25lIiwieSIsImR1cmF0aW9uIiwiY29udGFpbmVyIiwiU0NST0xMQUJMRV9DT05UQUlORVIiLCJnZXRFbGVtZW50QnlJZCIsImRlbHRhIiwic2Nyb2xsVG9wIiwic3RhcnRMb2NhdGlvbiIsImFuaW1hdGVTY3JvbGwiLCJlbGFwc2VkVGltZSIsInBlcmNlbnQiLCJNYXRoIiwibWluIiwiZWFzaW5nUCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fZWFzaW5nX18iLCJzd2luZyIsImZsb29yIiwic2V0VGltZW91dCIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbW9kdWxlc193ZWJzbGlkZXNfXyIsIldlYlNsaWRlcyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3NsaWRlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX2RvbV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX191dGlsc19zY3JvbGxfdG9fXyIsIlZFUlRJQ0FMIiwiUkVBRFkiLCJESVNBQkxFRCIsIlBMVUdJTlMiLCJhdXRvc2xpZGUiLCJBdXRvU2xpZGUiLCJjbGlja05hdiIsIkNsaWNrTmF2IiwiZ3JpZCIsIkdyaWQiLCJoYXNoIiwiSGFzaCIsImtleWJvYXJkIiwiS2V5Ym9hcmQiLCJuYXYiLCJOYXZpZ2F0aW9uIiwic2Nyb2xsIiwiU2Nyb2xsIiwidG91Y2giLCJUb3VjaCIsInZpZGVvIiwiVmlkZW8iLCJ5b3V0dWJlIiwiWW91VHViZSIsInpvb20iLCJab29tIiwiX3JlZiIsIl9yZWYkYXV0b3NsaWRlIiwiX3JlZiRjaGFuZ2VPbkNsaWNrIiwiY2hhbmdlT25DbGljayIsIl9yZWYkbG9vcCIsImxvb3AiLCJfcmVmJG1pbldoZWVsRGVsdGEiLCJtaW5XaGVlbERlbHRhIiwiX3JlZiRuYXZpZ2F0ZU9uU2Nyb2xsIiwibmF2aWdhdGVPblNjcm9sbCIsIl9yZWYkc2Nyb2xsV2FpdCIsInNjcm9sbFdhaXQiLCJfcmVmJHNsaWRlT2Zmc2V0Iiwic2xpZGVPZmZzZXQiLCJfcmVmJHNob3dJbmRleCIsInNob3dJbmRleCIsIkVycm9yIiwiaXNNb3ZpbmciLCJzbGlkZXMiLCJjdXJyZW50U2xpZGVJXyIsImN1cnJlbnRTbGlkZV8iLCJtYXhTbGlkZV8iLCJpc1ZlcnRpY2FsIiwicGx1Z2lucyIsIm9wdGlvbnMiLCJpbml0aWFsaXNlZCIsInJlbW92ZUNoaWxkcmVuXyIsImdyYWJTbGlkZXNfIiwiY3JlYXRlUGx1Z2luc18iLCJpbml0U2xpZGVzXyIsIm9uSW5pdF8iLCJub2RlcyIsImlzQ2FuZGlkYXRlIiwicmVtb3ZlQ2hpbGQiLCJfdGhpcyIsImZvckVhY2giLCJwbHVnaW5OYW1lIiwiUGx1Z2luQ3RvIiwiZG9jdW1lbnRFbGVtZW50IiwidG9BcnJheSIsIm1hcCIsInNsaWRlSSIsImZvcndhcmQiLCJpc1ZhbGlkSW5kZXhTbGlkZV8iLCJpc01vdmluZ0ZvcndhcmQiLCJuZXh0U2xpZGUiLCJpc0VuYWJsZWQiLCJ0cmFuc2l0aW9uVG9TbGlkZV8iLCJvblNsaWRlQ2hhbmdlXyIsInNjcm9sbFRyYW5zaXRpb25Ub1NsaWRlXyIsIl90aGlzMiIsIm92ZXJmbG93IiwibW92ZUJlZm9yZUZpcnN0Iiwib2Zmc2V0VG9wIiwibW92ZUFmdGVyTGFzdCIsIl90aGlzMyIsImNsYXNzTmFtZSIsIm9uY2UiLCJnZXRBbmltYXRpb25FdmVudCIsImRpc2FibGUiLCJlbmFibGUiLCJjdXJyZW50U2xpZGUwIiwiY3VycmVudFNsaWRlIiwibmV4dEluZGV4IiwiZ29Ub1NsaWRlIiwicHJldkluZGV4Iiwic2xpZGVOdW1iZXIiLCJjb25zdHJ1Y3RvciIsImdldFNsaWRlTnVtYmVyIiwidG9nZ2xlWm9vbSIsInRpbWUiLCJzdG9wIiwicGxheSIsImZ1bGxzY3JlZW4iLCJ3ZWJraXRJc0Z1bGxTY3JlZW4iLCJtb3pGdWxsU2NyZWVuIiwibXNGdWxsU2NyZWVuRWxlbWVudCIsImV4aXRGdWxsU2NyZWVuIiwid2Via2l0Q2FuY2VsRnVsbFNjcmVlbiIsIm1vekNhbmNlbEZ1bGxTY3JlZW4iLCJtc0V4aXRGdWxsc2NyZWVuIiwicmVxdWVzdEZ1bGxzY3JlZW4iLCJ3ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbiIsIm1velJlcXVlc3RGdWxsU2NyZWVuIiwibXNSZXF1ZXN0RnVsbHNjcmVlbiIsImN0byIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fYXV0b3NsaWRlX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NsaWNrX25hdl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19ncmlkX18iLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2hhc2hfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fa2V5Ym9hcmRfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbmF2aWdhdGlvbl9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19zY3JvbGxfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fdG91Y2hfXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fdmlkZW9fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9feW91dHViZV9fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fem9vbV9fIiwid3NJbnN0YW5jZSIsIndzXyIsImludGVydmFsXyIsImJpbmQiLCJib2R5Iiwib25Gb2N1cyIsImlzRm9jdXNhYmxlRWxlbWVudCIsInNldEludGVydmFsIiwiZ29OZXh0IiwiY2xlYXJJbnRlcnZhbCIsIk5hdGl2ZUN1c3RvbUV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJXU0N1c3RvbUV2ZW50IiwiYSIsInR5cGUiLCJjYW5JdXNlTmF0aXZlQ3VzdG9tIiwicGFyYW1zIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsIkNMSUNLQUJMRV9FTFMiLCJvbkNsaWNrXyIsImRhdGFzZXQiLCJwcmV2ZW50TmF2IiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX18iLCJHUklEX0lNQUdFIiwiQ1NTIiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsIm9uS2V5UHJlc3NfIiwid2hpY2giLCJ0b2dnbGUiLCJzbGlkZVJlZ2V4Iiwib25IYXNoQ2hhbmdlXyIsIm5ld1NsaWRlSW5kZXgiLCJzZXRTbGlkZU51bWJlciIsInJlc3VsdHMiLCJsb2NhdGlvbiIsIkFycmF5IiwiaXNBcnJheSIsIm51bWJlciIsImhpc3RvcnkiLCJwdXNoU3RhdGUiLCJIQVNIIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19kb21fXyIsIm1ldGhvZCIsImFyZ3VtZW50IiwiaXNEaXNhYmxlZCIsImdvUHJldiIsInByZXZlbnREZWZhdWx0IiwiRUxFTUVOVF9JRCIsIk5BViIsIk5FWFQiLCJQUkVWIiwiQ09VTlRFUiIsIkxBQkVMUyIsIkhPUklaT05UQUwiLCJhcnJvd0xhYmVscyIsImNyZWF0ZU5vZGUiLCJuZXh0IiwiY3JlYXRlQXJyb3ciLCJwcmV2IiwiY291bnRlciIsImNyZWF0ZUNvdW50ZXIiLCJiaW5kRXZlbnRzXyIsIm9uU2xpZGVDaGFuZ2VkXyIsIm9uQnV0dG9uQ2xpY2tlZF8iLCJjdXJyZW50IiwibWF4IiwidXBkYXRlQ291bnRlciIsImFycm93IiwiaHJlZiIsInRpdGxlIiwibGluayIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfbW9iaWxlX2RldGVjdG9yX18iLCJzY3JvbGxDb250YWluZXJfIiwiaXNHb2luZ1VwXyIsImlzR29pbmdMZWZ0XyIsInRpbWVvdXRfIiwiaXNBbnkiLCJvbk1vdXNlV2hlZWxfIiwibGluZXNUb1B4IiwiZGVsdGFNb2RlIiwid2hlZWxEZWx0YVkiLCJkZWx0YVkiLCJ3aGVlbERlbHRhWCIsImRlbHRhWCIsImlzSG9yaXpvbnRhbE1vdmVtZW50IiwiYWJzIiwiRVZFTlRTIiwiU1RBUlQiLCJNT1ZFIiwicG9pbnRlciIsInN0YXJ0WF8iLCJzdGFydFlfIiwiZW5kWF8iLCJlbmRZXyIsImlzR2VzdHVyZSIsInN0YXJ0VG91Y2hlcyIsImVuZFRvdWNoZXMiLCJldmVudHMiLCJQb2ludGVyRXZlbnQiLCJvblN0YXJ0XyIsIm9uTW92ZV8iLCJvblN0b3BfIiwiaW5mbyIsIm5vcm1hbGl6ZUV2ZW50SW5mbyIsInRvdWNoZXMiLCJ4IiwiZ2V0VG91Y2hDb29yZGluYXRlcyIsImRpZmZYIiwiZGlmZlkiLCJjbGllbnRYIiwiY2xpZW50WSIsInRvdWNoRXZlbnQiLCJwYWdlWCIsInBhZ2VZIiwiY2hhbmdlZFRvdWNoZXMiLCJvcmlnaW5hbEV2ZW50Iiwib2Zmc2V0WCIsImxheWVyWCIsIm9mZnNldFkiLCJsYXllclkiLCJfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfXyIsInZpZGVvcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJoYXNBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJwYXVzZSIsImN1cnJlbnRUaW1lIiwiZ2V0U2VjdGlvbkZyb21FbCIsIm9uU2VjdGlvbkVuYWJsZWQiLCJvblNlY3Rpb25EaXNhYmxlZCIsIlBsYXllciIsInJlYWR5Iiwib25SZWFkeUNiIiwiYXV0b3BsYXkiLCJpc011dGVkIiwibXV0ZSIsInZpZGVvSWQiLCJ5b3V0dWJlSWQiLCJwbGF5ZXJWYXJzIiwiZ2V0UGxheWVyVmFycyIsIm9uUmVhZHkiLCJvblBsYXllclJlYWR5IiwidGltZW91dCIsImNyZWF0ZSIsInBsYXllciIsImdldEN1cnJlbnRUaW1lIiwiZGVzdHJveSIsInF1ZXJ5U2VsZWN0b3IiLCJZVCIsImdldElmcmFtZSIsInNlZWtUbyIsInBhdXNlVmlkZW8iLCJnZXRQbGF5ZXJTdGF0ZSIsInVuTXV0ZSIsInBsYXlWaWRlbyIsImVsZW1lbnQiLCJ2YXJzIiwibW9kZXN0YnJhbmRpbmciLCJyZWwiLCJvcmlnaW4iLCJkaXNhYmxla2IiLCJub0NvbnRyb2xzIiwiY29udHJvbHMiLCJzaG93aW5mbyIsInBsYXlsaXN0IiwiaW5qZWN0Iiwib25TbGlkZUV2ZW50Iiwib25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkiLCJvbllUUmVhZHkiLCJzcmMiLCJmaXJzdFNjcmlwdFRhZyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdXRpbHNfa2V5c19fIiwiX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19zY3JvbGxfdG9fXyIsIl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fbW9kdWxlc19zbGlkZV9fIiwiendzXyIsImlzWm9vbWVkXyIsInByZUJ1aWxkWm9vbV8iLCJvbktleURvd24iLCJzb21lIiwiem9vbUluIiwiem9vbU91dCIsImNsb25lTm9kZSIsInNfIiwiYWZ0ZXIiLCJjcmVhdGVTbGlkZUJsb2NrXyIsInNldEF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsImRpdiIsImRpdkxheWVyIiwic3RvcFByb3BhZ2F0aW9uIiwiY3VycmVudElkIiwiem9vbWVkQ3VycmVudCIsImFjdHVhbEN1cnJlbnQiLCJ3cmFwQ1NTIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInNjcm9sbGluZ0VsZW1lbnQiLCJwYXJzZVNpemUiLCJwYWRkaW5nVG9wIiwiX3RoaXM0IiwiY29zIiwiUEkiLCJmb3JFYWNoRWxlbWVudCIsInBhcnJheSIsIm9wZW5Db2RlcGVuTlMiLCJ0ZW1wbGF0ZSIsImNsb25lQ29udGVudCIsImltcG9ydE5vZGUiLCJjb250ZW50IiwianNFbHMiLCJjc3NFbHMiLCJqcyIsImNzcyIsImh0bWwiLCJzY3JpcHQiLCJpbm5lckhUTUwiLCJodG1sQ29kZSIsImNzc0NvZGUiLCJqc0NvZGUiLCJmb3JtIiwiY29udGVudFdyYXAiLCJKU09OIiwic3RyaW5naWZ5Iiwic3VibWl0IiwiYnV0dG9uIl0sIm1hcHBpbmdzIjoiQ0FRQSxT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YixFQUFBd1MscUJBcERBLENBd0RBbk4iLCJmaWxlIjoibWFpbi5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIE5hbWU6IFdlYlNsaWRlc1xuICogVmVyc2lvbjogMS40LjJcbiAqIERhdGU6IDIwMTctMDktMTJcbiAqIERlc2NyaXB0aW9uOiBNYWtpbmcgSFRNTCBwcmVzZW50YXRpb25zIGVhc3lcbiAqIFVSTDogaHR0cHM6Ly9naXRodWIuY29tL3dlYnNsaWRlcy93ZWJzbGlkZXMjcmVhZG1lXG4gKiBDcmVkaXRzOiBAamxhbnR1bmV6LCBATHVpc1NhY3Jpc3RhbiwgQEJlbGVscm9zXG4gKi9cbi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvc3RhdGljL2pzL1wiO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vKioqKioqLyBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDUpO1xuLyoqKioqKi8gfSlcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKioqKioqLyAoW1xuLyogMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2N1c3RvbV9ldmVudF9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5KTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG52YXIgdHJhbnNpdGlvbkV2ZW50ID0gJyc7XG52YXIgYW5pbWF0aW9uRXZlbnQgPSAnJztcblxuLyoqXG4gKiBTdGF0aWMgY2xhc3MgZm9yIERPTSBoZWxwZXIuXG4gKi9cblxudmFyIERPTSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gRE9NKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBET00pO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKERPTSwgbnVsbCwgW3tcbiAgICBrZXk6ICdjcmVhdGVOb2RlJyxcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBub2RlIHdpdGggb3B0aW9uYWwgcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBuYW1lIG9mIHRoZSB0YWcgb2YgdGhlIG5lZWRlZCBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBUaGUgZGVzaXJlZCBpZCBmb3IgdGhlIGVsZW1lbnQuIEl0IGRlZmF1bHRzIHRvIGFuXG4gICAgICogZW1wdHkgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0ZXh0IFRoZSBkZXNpcmVkIHRleHQgdG8gZ28gaW5zaWRlIG9mIHRoZSBlbGVtZW50LiBJdFxuICAgICAqIGRlZmF1bHRzIHRvIGFuIGVtcHR5IHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVOb2RlKHRhZykge1xuICAgICAgdmFyIGlkID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAnJztcbiAgICAgIHZhciB0ZXh0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAnJztcblxuICAgICAgdmFyIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICBpZiAoaWQpIHtcbiAgICAgICAgbm9kZS5pZCA9IGlkO1xuICAgICAgfVxuXG4gICAgICBpZiAodGV4dCkge1xuICAgICAgICBub2RlLnRleHRDb250ZW50ID0gdGV4dDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlzdGVucyBmb3IgYW4gZXZlbnQgb25jZS5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIEVsZW1lbnQgdG8gbGlzdGVuIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudCBFdmVudCBUeXBlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIEZ1bmN0aW9uIHRvIGV4ZWN1dGUgb25jZSB0aGUgZXZlbnQgZmlyZXMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uY2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbmNlKGVsLCBldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIHZhciBjYiA9IGZ1bmN0aW9uIGNiKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBlbCkge1xuICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGNiKTtcbiAgICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgY2IsIGZhbHNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwcmVmaXhlZCB0cmFuc2l0aW9uZW5kIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7P0VsZW1lbnR9IG9wdEVsIEVsZW1lbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFRyYW5zaXRpb25FdmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25FdmVudChvcHRFbCkge1xuICAgICAgaWYgKHRyYW5zaXRpb25FdmVudCAmJiAhb3B0RWwpIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zaXRpb25FdmVudDtcbiAgICAgIH1cblxuICAgICAgdHJhbnNpdGlvbkV2ZW50ID0gJyc7XG5cbiAgICAgIHZhciBlbCA9IG9wdEVsIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3dzJyk7XG4gICAgICB2YXIgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnLFxuICAgICAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCdcbiAgICAgIH07XG4gICAgICB2YXIgdHJhbnNpdGlvbk5hbWVzID0gT2JqZWN0LmtleXModHJhbnNpdGlvbnMpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gdHJhbnNpdGlvbk5hbWVzLmxlbmd0aDsgaSA8IGxlbmd0aCAmJiAhdHJhbnNpdGlvbkV2ZW50OyBpKyspIHtcbiAgICAgICAgdmFyIHRyYW5zaXRpb25OYW1lID0gdHJhbnNpdGlvbk5hbWVzW2ldO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZWwuc3R5bGVbdHJhbnNpdGlvbk5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHRyYW5zaXRpb25FdmVudCA9IHRyYW5zaXRpb25zW3RyYW5zaXRpb25OYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJhbnNpdGlvbkV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHByZWZpeGVkIGFuaW1hdGlvbiBlbmQgZXZlbnQuXG4gICAgICogQHBhcmFtIHs/RWxlbWVudH0gb3B0RWwgRWxlbWVudCB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge3N0cmluZ31cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0QW5pbWF0aW9uRXZlbnQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbmltYXRpb25FdmVudChvcHRFbCkge1xuICAgICAgaWYgKGFuaW1hdGlvbkV2ZW50ICYmICFvcHRFbCkge1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uRXZlbnQ7XG4gICAgICB9XG5cbiAgICAgIGFuaW1hdGlvbkV2ZW50ID0gJ2FuaW1hdGlvbmVuZCc7XG5cbiAgICAgIHZhciBlbCA9IG9wdEVsIHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3dzJyk7XG4gICAgICB2YXIgYW5pbWF0aW9ucyA9IHtcbiAgICAgICAgJ2FuaW1hdGlvbic6ICdhbmltYXRpb25lbmQnLFxuICAgICAgICAnT0FuaW1hdGlvbic6ICdvQW5pbWF0aW9uRW5kJyxcbiAgICAgICAgJ01vekFuaW1hdGlvbic6ICdhbmltYXRpb25lbmQnLFxuICAgICAgICAnV2Via2l0QW5pbWF0aW9uJzogJ3dlYmtpdEFuaW1hdGlvbkVuZCdcbiAgICAgIH07XG4gICAgICB2YXIgYW5pbWF0aW9uTmFtZXMgPSBPYmplY3Qua2V5cyhhbmltYXRpb25zKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGFuaW1hdGlvbk5hbWVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbmltYXRpb25OYW1lID0gYW5pbWF0aW9uTmFtZXNbaV07XG5cbiAgICAgICAgaWYgKHR5cGVvZiBlbC5zdHlsZVthbmltYXRpb25OYW1lXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICBhbmltYXRpb25FdmVudCA9IGFuaW1hdGlvbnNbYW5pbWF0aW9uTmFtZV07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFuaW1hdGlvbkV2ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIGFuIGVsZW1lbnQgc2V0dGluZyB0aGUgZGlzcGxheSB0byBub25lLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgRWxlbWVudCB0byBiZSBoaWRkZW4uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2hpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKGVsKSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIGFuIGVsZW1lbnQgYnkgcmVtb3ZpbmcgdGhlIGRpc3BsYXkgcHJvcGVydHkuIFRoaXMgaXMgb25seSBpbnRlbmRlZFxuICAgICAqIHRvIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBET00uaGlkZS5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIEVsZW1lbnQgdG8gYmUgc2hvd24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3Nob3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGVsKSB7XG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBlbGVtZW50IGlzIHZpc2libGUuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCBFbGVtZW50IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzVmlzaWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmlzaWJsZShlbCkge1xuICAgICAgcmV0dXJuIGVsLm9mZnNldFBhcmVudCAhPT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhIGN1c3RvbSBldmVudCBvbiB0aGUgZ2l2ZW4gdGFyZ2V0LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gdGFyZ2V0IFRoZSB0YXJnZXQgb2YgdGhlIGV2ZW50LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFR5cGUgVGhlIGV2ZW50IHR5cGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGV2ZW50SW5mbyBPcHRpb25hbCBwYXJhbWV0ZXIgdG8gcHJvdmlkZSBhZGRpdGlvbmFsIGRhdGFcbiAgICAgKiB0byB0aGUgZXZlbnQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcmVFdmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZpcmVFdmVudCh0YXJnZXQsIGV2ZW50VHlwZSkge1xuICAgICAgdmFyIGV2ZW50SW5mbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICAgIHZhciBldmVudCA9IG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2N1c3RvbV9ldmVudF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKGV2ZW50VHlwZSwge1xuICAgICAgICBkZXRhaWw6IGV2ZW50SW5mb1xuICAgICAgfSk7XG5cbiAgICAgIHRhcmdldC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhbiBpdGVyYWJsZSB0byBhbiBhcnJheS5cbiAgICAgKiBAcGFyYW0geyp9IGl0ZXJhYmxlIEVsZW1lbnQgdG8gY29udmVydCB0byBhcnJheVxuICAgICAqIEByZXR1cm4ge0FycmF5fSB0aGUgZWxlbWVudCBjYXN0ZWQgdG8gYW4gYXJyYXkuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3RvQXJyYXknLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0b0FycmF5KGl0ZXJhYmxlKSB7XG4gICAgICByZXR1cm4gW10uc2xpY2UuY2FsbChpdGVyYWJsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgdGhlIGRvY3VtZW50IGhhcyBmb2N1cyBvbiBhbiBpbnB1dCBvciBjb250ZW50ZWRpdGFibGVcbiAgICAgKiBlbGVtZW50LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIGZvY3VzZWQgZWxlbWVudCBpcyBhbiBpbnB1dCBvciBjb250ZW50XG4gICAgICogZWRpdGFibGUuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2lzRm9jdXNhYmxlRWxlbWVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRm9jdXNhYmxlRWxlbWVudCgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBmYWxzZTtcblxuICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGlzQ29udGVudEVkaXRhYmxlID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5jb250ZW50RWRpdGFibGUgIT09ICdpbmhlcml0JyAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50LmNvbnRlbnRFZGl0YWJsZSAhPT0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgaXNJbnB1dCA9IFsnSU5QVVQnLCAnU0VMRUNUJywgJ09QVElPTicsICdURVhUQVJFQSddLmluZGV4T2YoZG9jdW1lbnQuYWN0aXZlRWxlbWVudC50YWdOYW1lKSA+IC0xO1xuICAgICAgICByZXN1bHQgPSBpc0lucHV0IHx8IGlzQ29udGVudEVkaXRhYmxlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVnZXIgdmFsdWUgb2YgYSBzdHlsZSBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvcCBDU1MgcHJvcGVydHkgdmFsdWUuXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBUaGUgcHJvcGVydHkgd2l0aG91dCB0aGUgdW5pdHMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3BhcnNlU2l6ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHBhcnNlU2l6ZShwcm9wKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKHByb3AucmVwbGFjZSgvW15cXGRcXC5dL2csICcnKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV3JhcHMgYSBIVE1MIHN0cnVjdHVyZSBhcm91bmQgYW4gZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW0gdGhlIGVsZW1lbnQgdG8gYmUgd3JhcHBlZC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIHRoZSBuZXcgZWxlbWVudCB0YWcuXG4gICAgICogQHJldHVybiB7RWxlbWVudH0gdGhlIG5ldyBlbGVtZW50LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd3cmFwJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gd3JhcChlbGVtLCB0YWcpIHtcbiAgICAgIHZhciB3cmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgICAgZWxlbS5wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZSh3cmFwLCBlbGVtKTtcbiAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoZWxlbSk7XG5cbiAgICAgIHJldHVybiB3cmFwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluc2VydHMgYW5kIGVsZW1lbnQgYWZ0ZXIgYW5vdGhlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbSB0aGUgZWxlbWVudCB0byBiZSBpbnNlcnRlZC5cbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IHRhcmdldCB0aGUgZWxlbWVudCB0byBiZSBpbnNlcnRlZCBhZnRlci5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnYWZ0ZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlcihlbGVtLCB0YXJnZXQpIHtcbiAgICAgIHZhciBwYXJlbnQgPSB0YXJnZXQucGFyZW50Tm9kZTtcblxuICAgICAgaWYgKHBhcmVudC5sYXN0Q2hpbGQgPT09IHRhcmdldCkge1xuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoZWxlbSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKGVsZW0sIHRhcmdldC5uZXh0U2libGluZyk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIERPTTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChET00pO1xuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGV4cG9ydCAoYmluZGluZykgKi8gX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIFwiYlwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIFNsaWRlOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJhXCIsIGZ1bmN0aW9uKCkgeyByZXR1cm4gRXZlbnRzOyB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG52YXIgQ0xBU1NFUyA9IHtcbiAgU0xJREU6ICdzbGlkZScsXG4gIENVUlJFTlQ6ICdjdXJyZW50J1xufTtcblxudmFyIEV2ZW50cyA9IHtcbiAgRU5URVI6ICdkb206ZW50ZXInLFxuICBMRUFWRTogJ2RvbTpsZWF2ZScsXG4gIEVOQUJMRTogJ3NsaWRlOmVuYWJsZScsXG4gIERJU0FCTEU6ICdzbGlkZTpkaXNhYmxlJ1xufTtcblxuLyoqXG4gKiBXcmFwcGVyIGZvciB0aGUgU2xpZGUgc2VjdGlvbi5cbiAqL1xuXG52YXIgU2xpZGUgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBCb290c3RyYXBzIHRoZSBzbGlkZSBieSBzYXZpbmcgc29tZSBkYXRhLCBhZGRpbmcgYSBjbGFzcyBhbmQgaGlkaW5nIGl0LlxuICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsIFNlY3Rpb24gZWxlbWVudC5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGkgWmVybyBiYXNlZCBpbmRleCBvZiB0aGUgc2xpZGUuXG4gICAqL1xuICBmdW5jdGlvbiBTbGlkZShlbCwgaSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTbGlkZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsID0gZWw7XG4gICAgLyoqXG4gICAgICogVGhlIHNlY3Rpb24ncyBwYXJlbnQuXG4gICAgICogQHR5cGUge05vZGV9XG4gICAgICovXG4gICAgdGhpcy5wYXJlbnQgPSBlbC5wYXJlbnROb2RlO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICovXG4gICAgdGhpcy5pID0gaTtcblxuICAgIHRoaXMuZWwuaWQgPSAnc2VjdGlvbi0nICsgKGkgKyAxKTtcbiAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQoQ0xBU1NFUy5TTElERSk7XG5cbiAgICAvLyBIaWRlIHNsaWRlcyBieSBkZWZhdWx0XG4gICAgdGhpcy5oaWRlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGlkZXMgdGhlIG5vZGUgYW5kIHJlbW92ZXMgdGhlIGNsYXNzIHRoYXQgbWFrZXMgaXQgXCJhY3RpdmVcIi5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU2xpZGUsIFt7XG4gICAga2V5OiAnaGlkZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmhpZGUodGhpcy5lbCk7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NFUy5DVVJSRU5UKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgbm9kZSBhbmQgYWRkcyB0aGUgY2xhc3MgdGhhdCBtYWtlcyBpdCBcImFjdGl2ZVwiLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzaG93JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10uc2hvdyh0aGlzLmVsKTtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChDTEFTU0VTLkNVUlJFTlQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoZSBzZWN0aW9uIHRvIHRoZSBib3R0b20gb2YgdGhlIHNlY3Rpb24ncyBsaXN0LlxuICAgICAqIEBmaXJlcyBTbGlkZSNkb206bGVhdmVcbiAgICAgKiBAZmlyZXMgU2xpZGUjZG9tOmVudGVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ21vdmVBZnRlckxhc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlQWZ0ZXJMYXN0KCkge1xuICAgICAgdmFyIGxhc3QgPSB0aGlzLnBhcmVudC5jaGlsZE5vZGVzW3RoaXMucGFyZW50LmNoaWxkRWxlbWVudENvdW50IC0gMV07XG5cbiAgICAgIHRoaXMuZmlyZV8oRXZlbnRzLkxFQVZFKTtcbiAgICAgIHRoaXMucGFyZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCBsYXN0Lm5leHRTaWJsaW5nKTtcbiAgICAgIHRoaXMuZmlyZV8oRXZlbnRzLkVOVEVSKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgc2VjdGlvbiB0byB0aGUgdG9wIG9mIHRoZSBzZWN0aW9uJ3MgbGlzdC5cbiAgICAgKiBAZmlyZXMgU2xpZGUjZG9tOmxlYXZlXG4gICAgICogQGZpcmVzIFNsaWRlI2RvbTplbnRlclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdtb3ZlQmVmb3JlRmlyc3QnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBtb3ZlQmVmb3JlRmlyc3QoKSB7XG4gICAgICB2YXIgZmlyc3QgPSB0aGlzLnBhcmVudC5jaGlsZE5vZGVzWzBdO1xuXG4gICAgICB0aGlzLmZpcmVfKEV2ZW50cy5MRUFWRSk7XG4gICAgICB0aGlzLnBhcmVudC5pbnNlcnRCZWZvcmUodGhpcy5lbCwgZmlyc3QpO1xuICAgICAgdGhpcy5maXJlXyhFdmVudHMuRU5URVIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpcmVzIGFuIGVuYWJsZSBldmVudC5cbiAgICAgKiBAZmlyZXMgU2xpZGUjc2xpZGU6ZW5hYmxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2VuYWJsZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGVuYWJsZSgpIHtcbiAgICAgIHRoaXMuZmlyZV8oRXZlbnRzLkVOQUJMRSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgYSBkaXNhYmxlIGV2ZW50LlxuICAgICAqIEBmaXJlcyBTbGlkZSNzbGlkZTpkaXNhYmxlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2Rpc2FibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNhYmxlKCkge1xuICAgICAgdGhpcy5maXJlXyhFdmVudHMuRElTQUJMRSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlyZXMgYW4gZXZlbnQgcGFzc2luZyB0aGUgc2xpZGUgaW5zdGFuY2Ugb24gdGhlIGRldGFpbC5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBldmVudCB0byBmaXJlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2ZpcmVfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZmlyZV8obmFtZSkge1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5maXJlRXZlbnQodGhpcy5lbCwgbmFtZSwge1xuICAgICAgICBzbGlkZTogdGhpc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyBhIHZhbGlkIGNhbmRpZGF0ZSB0byBiZSBhIHNsaWRlIGJ5IGVuc3VyaW5nXG4gICAgICogaXQncyBhIFwic2VjdGlvblwiIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbCBFbGVtZW50IHRvIGJlIGNoZWNrZWQuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBpcyBjYW5kaWRhdGUgb3Igbm90LlxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogJ2lzQ2FuZGlkYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNDYW5kaWRhdGUoZWwpIHtcbiAgICAgIHJldHVybiBlbC5ub2RlVHlwZSA9PT0gMSAmJiBlbC50YWdOYW1lID09PSAnU0VDVElPTic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgc2VjdGlvbiBlbGVtZW50IGZyb20gYW4gaW5uZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge05vZGV9IGVsXG4gICAgICogQHJldHVybiB7e3NlY3Rpb246ID9Ob2RlLCBpOiA/bnVtYmVyfX0gQSBtYXAgd2l0aCB0aGUgc2VjdGlvbiBhbmQgdGhlXG4gICAgICogcG9zaXRpb24gb2YgdGhlIHNlY3Rpb24uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2dldFNlY3Rpb25Gcm9tRWwnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWN0aW9uRnJvbUVsKGVsKSB7XG4gICAgICB2YXIgcGFyZW50ID0gZWw7XG4gICAgICB2YXIgc2VjdGlvbiA9IG51bGw7XG4gICAgICB2YXIgaSA9IG51bGw7XG5cbiAgICAgIHdoaWxlIChwYXJlbnQucGFyZW50RWxlbWVudCAmJiAhcGFyZW50LmNsYXNzTGlzdC5jb250YWlucyhDTEFTU0VTLlNMSURFKSkge1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50RWxlbWVudDtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NFUy5TTElERSkpIHtcbiAgICAgICAgc2VjdGlvbiA9IHBhcmVudDtcbiAgICAgICAgaSA9IHBhcnNlSW50KHNlY3Rpb24uaWQucmVwbGFjZSgnc2VjdGlvbi0nLCAnJyksIDEwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc2VjdGlvbjogc2VjdGlvbiwgaTogaSB9O1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBTbGlkZTtcbn0oKTtcblxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBLZXlzID0ge1xuICBFTlRFUjogMTMsXG4gIFNQQUNFOiAzMixcbiAgUkVfUEFHRTogMzMsXG4gIEFWX1BBR0U6IDM0LFxuICBFTkQ6IDM1LFxuICBIT01FOiAzNixcbiAgTEVGVDogMzcsXG4gIFVQOiAzOCxcbiAgUklHSFQ6IDM5LFxuICBET1dOOiA0MCxcbiAgUExVUzogWzEwNywgMTcxLCAxODddLFxuICBNSU5VUzogWzEwOSwgMTczLCAxODldLFxuICBFU0NBUEU6IDI3LFxuICBGOiA3MFxufTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChLZXlzKTtcblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFVBID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7XG5cbi8qKlxuICogTW9iaWxlIGRldGVjdG9yIGhlbHBlciBjbGFzcy4gVGVzdHMgdGhlIFVzZXIgQWdlbnQgdG8gc2VlIGlmIHdlJ3JlLCBsaWtlbHksXG4gKiBvbiBhIG1vYmlsZSBkZXZpY2UuXG4gKi9cblxudmFyIE1vYmlsZURldGVjdG9yID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNb2JpbGVEZXRlY3RvcigpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTW9iaWxlRGV0ZWN0b3IpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKE1vYmlsZURldGVjdG9yLCBudWxsLCBbe1xuICAgIGtleTogXCJpc0FuZHJvaWRcIixcblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBBbmRyb2lkIG9yIG5vdC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FuZHJvaWQoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvQW5kcm9pZC9pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBkZXZpY2UgaXMgQmxhY2tCZXJyeSBvciBub3QuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQmxhY2tCZXJyeVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc0JsYWNrQmVycnkoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvQmxhY2tCZXJyeS9pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBkZXZpY2UgaXMgaU9TIG9yIG5vdC5cbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6IFwiaXNpT1NcIixcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNpT1MoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvaVBhZHxpUGhvbmV8aVBvZC9pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBkZXZpY2UgaXMgT3BlcmEgb3Igbm90LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc09wZXJhXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzT3BlcmEoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvT3BlcmEgTWluaS9pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBkZXZpY2UgaXMgV2luZG93cyBvciBub3QuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzV2luZG93c1wiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1dpbmRvd3MoKSB7XG4gICAgICByZXR1cm4gISFVQS5tYXRjaCgvSUVNb2JpbGUvaSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgZGV2aWNlIGlzIFdpbmRvd3MgUGhvbmUgb3Igbm90LlxuICAgICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogXCJpc1dpbmRvd3NQaG9uZVwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBpc1dpbmRvd3NQaG9uZSgpIHtcbiAgICAgIHJldHVybiAhIVVBLm1hdGNoKC9XaW5kb3dzIFBob25lL2kpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGRldmljZSBpcyBhbnkgbW9iaWxlIGRldmljZSBvciBub3QuXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiBcImlzQW55XCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzQW55KCkge1xuICAgICAgcmV0dXJuIE1vYmlsZURldGVjdG9yLmlzQW5kcm9pZCgpIHx8IE1vYmlsZURldGVjdG9yLmlzQmxhY2tCZXJyeSgpIHx8IE1vYmlsZURldGVjdG9yLmlzaU9TKCkgfHwgTW9iaWxlRGV0ZWN0b3IuaXNPcGVyYSgpIHx8IE1vYmlsZURldGVjdG9yLmlzV2luZG93cygpIHx8IE1vYmlsZURldGVjdG9yLmlzV2luZG93c1Bob25lKCk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIE1vYmlsZURldGVjdG9yO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKE1vYmlsZURldGVjdG9yKTtcblxuLyoqKi8gfSksXG4vKiA0ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSBzY3JvbGxUbztcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Vhc2luZ19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyMCk7XG5cblxudmFyIFNDUk9MTEFCTEVfQ09OVEFJTkVSID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3dlYnNsaWRlcycpO1xuXG4vKipcbiAqIFNtb290aGx5IHNjcm9sbHMgdG8gYSBnaXZlbiBZIHBvc2l0aW9uIHVzaW5nIEVhc2luZy5Td2luZy4gSXQnbGwgcnVuIGFcbiAqIGNhbGxiYWNrIHVwb24gZmluaXNoaW5nLlxuICogQHBhcmFtIHtudW1iZXJ9IHkgT2Zmc2V0IG9mIHRoZSBwYWdlIHRvIHNjcm9sbCB0by5cbiAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiBEdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uLiA1MDBtcyBieSBkZWZhdWx0LlxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgQ2FsbGJhY2sgZnVuY3Rpb24gdG8gY2FsbCB1cG9uIGNvbXBsZXRpb24uXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjb250YWluZXIgVGhlIEhUTUwgZWxlbWVudCB3aGVyZSB0byBzY3JvbGxcbiAqL1xuZnVuY3Rpb24gc2Nyb2xsVG8oeSkge1xuICB2YXIgZHVyYXRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDUwMDtcbiAgdmFyIGNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmdW5jdGlvbiAoKSB7fTtcbiAgdmFyIGNvbnRhaW5lciA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICBTQ1JPTExBQkxFX0NPTlRBSU5FUiA9IGNvbnRhaW5lciA/IGNvbnRhaW5lciA6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJzbGlkZXMnKTtcblxuICB2YXIgZGVsdGEgPSB5IC0gU0NST0xMQUJMRV9DT05UQUlORVIuc2Nyb2xsVG9wO1xuICB2YXIgc3RhcnRMb2NhdGlvbiA9IFNDUk9MTEFCTEVfQ09OVEFJTkVSLnNjcm9sbFRvcDtcbiAgdmFyIGluY3JlbWVudCA9IDE2O1xuXG4gIGlmICghZHVyYXRpb24pIHtcbiAgICBTQ1JPTExBQkxFX0NPTlRBSU5FUi5zY3JvbGxUb3AgPSB5O1xuICAgIGNiKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGFuaW1hdGVTY3JvbGwgPSBmdW5jdGlvbiBhbmltYXRlU2Nyb2xsKGVsYXBzZWRUaW1lKSB7XG4gICAgZWxhcHNlZFRpbWUgKz0gaW5jcmVtZW50O1xuICAgIHZhciBwZXJjZW50ID0gTWF0aC5taW4oMSwgZWxhcHNlZFRpbWUgLyBkdXJhdGlvbik7XG4gICAgdmFyIGVhc2luZ1AgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2Vhc2luZ19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnN3aW5nKHBlcmNlbnQsIGVsYXBzZWRUaW1lICogcGVyY2VudCwgeSwgZGVsdGEsIGR1cmF0aW9uKTtcblxuICAgIFNDUk9MTEFCTEVfQ09OVEFJTkVSLnNjcm9sbFRvcCA9IE1hdGguZmxvb3Ioc3RhcnRMb2NhdGlvbiArIGVhc2luZ1AgKiBkZWx0YSk7XG5cbiAgICBpZiAoZWxhcHNlZFRpbWUgPCBkdXJhdGlvbikge1xuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhbmltYXRlU2Nyb2xsKGVsYXBzZWRUaW1lKTtcbiAgICAgIH0sIGluY3JlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9O1xuXG4gIGFuaW1hdGVTY3JvbGwoMCk7XG59XG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3dlYnBhY2tfZXhwb3J0c19fLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX21vZHVsZXNfd2Vic2xpZGVzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDYpO1xuXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKTtcblxud2luZG93LldlYlNsaWRlcyA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fbW9kdWxlc193ZWJzbGlkZXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXTtcblxuLyoqKi8gfSksXG4vKiA2ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2xpZGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19kb21fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX191dGlsc19zY3JvbGxfdG9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oNCk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxudmFyIENMQVNTRVMgPSB7XG4gIFZFUlRJQ0FMOiAndmVydGljYWwnLFxuICBSRUFEWTogJ3dzLXJlYWR5JyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCdcbn07XG5cbi8vIERlZmF1bHQgcGx1Z2luc1xudmFyIFBMVUdJTlMgPSB7XG4gICdhdXRvc2xpZGUnOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3BsdWdpbnNfcGx1Z2luc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkF1dG9TbGlkZSxcbiAgJ2NsaWNrTmF2JzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5DbGlja05hdixcbiAgJ2dyaWQnOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3BsdWdpbnNfcGx1Z2luc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkdyaWQsXG4gICdoYXNoJzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5IYXNoLFxuICAna2V5Ym9hcmQnOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3BsdWdpbnNfcGx1Z2luc19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLktleWJvYXJkLFxuICAnbmF2JzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5OYXZpZ2F0aW9uLFxuICAnc2Nyb2xsJzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5TY3JvbGwsXG4gICd0b3VjaCc6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uVG91Y2gsXG4gICd2aWRlbyc6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uVmlkZW8sXG4gICd5b3V0dWJlJzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19wbHVnaW5zX3BsdWdpbnNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5Zb3VUdWJlLFxuICAnem9vbSc6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fcGx1Z2luc19wbHVnaW5zX19bXCJhXCIgLyogZGVmYXVsdCAqL10uWm9vbVxufTtcblxuLyoqXG4gKiBXZWJTbGlkZXMgbW9kdWxlLlxuICovXG5cbnZhciBXZWJTbGlkZXMgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBPcHRpb25zIGZvciBXZWJTbGlkZXNcbiAgICogQHBhcmFtIHtudW1iZXJ8Ym9vbGVhbn0gYXV0b3NsaWRlIElmIGEgbnVtYmVyIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGFsbG93XG4gICAqIGF1dG9zbGlkaW5nIGJ5IHNhaWQgYW1vdW50IG9mIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtib29sZWFufSBjaGFuZ2VPbkNsaWNrIElmIHRydWUsIGl0IHdpbGwgYWxsb3dcbiAgICogY2xpY2tpbmcgb24gYW55IHBsYWNlIHRvIGNoYW5nZSB0aGUgc2xpZGUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gbG9vcCBXaGV0aGVyIHRvIGdvIHRvIGZpcnN0IHNsaWRlIGZyb20gbGFzdCBvbmUgb3Igbm90LlxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluV2hlZWxEZWx0YSBDb250cm9scyB0aGUgYW1vdW50IG9mIG5lZWRlZCBzY3JvbGwgdG9cbiAgICogdHJpZ2dlciBuYXZpZ2F0aW9uLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IG5hdmlnYXRlT25TY3JvbGwgV2hldGhlciBzY3JvbGwgY2FuIHRyaWdnZXIgbmF2aWdhdGlvbiBvclxuICAgKiBub3QuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzY3JvbGxXYWl0IENvbnRyb2xzIHRoZSBhbW91bnQgb2YgdGltZSB0byB3YWl0IHRpbGxcbiAgICogbmF2aWdhdGlvbiBjYW4gb2NjdXIgYWdhaW4gd2l0aCBzY3JvbGwuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzbGlkZU9mZnNldCBDb250cm9scyB0aGUgYW1vdW50IG9mIG5lZWRlZCB0b3VjaCBkZWx0YSB0b1xuICAgKiB0cmlnZ2VyIG5hdmlnYXRpb24uXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gc2hvd0luZGV4IENvbnRyb2xzIGlmIHRoZSBpbmRleCBjYW4gYmUgc2hvd24uXG4gICAqL1xuICBmdW5jdGlvbiBXZWJTbGlkZXMoKSB7XG4gICAgdmFyIF9yZWYgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHt9LFxuICAgICAgICBfcmVmJGF1dG9zbGlkZSA9IF9yZWYuYXV0b3NsaWRlLFxuICAgICAgICBhdXRvc2xpZGUgPSBfcmVmJGF1dG9zbGlkZSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBfcmVmJGF1dG9zbGlkZSxcbiAgICAgICAgX3JlZiRjaGFuZ2VPbkNsaWNrID0gX3JlZi5jaGFuZ2VPbkNsaWNrLFxuICAgICAgICBjaGFuZ2VPbkNsaWNrID0gX3JlZiRjaGFuZ2VPbkNsaWNrID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IF9yZWYkY2hhbmdlT25DbGljayxcbiAgICAgICAgX3JlZiRsb29wID0gX3JlZi5sb29wLFxuICAgICAgICBsb29wID0gX3JlZiRsb29wID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRsb29wLFxuICAgICAgICBfcmVmJG1pbldoZWVsRGVsdGEgPSBfcmVmLm1pbldoZWVsRGVsdGEsXG4gICAgICAgIG1pbldoZWVsRGVsdGEgPSBfcmVmJG1pbldoZWVsRGVsdGEgPT09IHVuZGVmaW5lZCA/IDQwIDogX3JlZiRtaW5XaGVlbERlbHRhLFxuICAgICAgICBfcmVmJG5hdmlnYXRlT25TY3JvbGwgPSBfcmVmLm5hdmlnYXRlT25TY3JvbGwsXG4gICAgICAgIG5hdmlnYXRlT25TY3JvbGwgPSBfcmVmJG5hdmlnYXRlT25TY3JvbGwgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJG5hdmlnYXRlT25TY3JvbGwsXG4gICAgICAgIF9yZWYkc2Nyb2xsV2FpdCA9IF9yZWYuc2Nyb2xsV2FpdCxcbiAgICAgICAgc2Nyb2xsV2FpdCA9IF9yZWYkc2Nyb2xsV2FpdCA9PT0gdW5kZWZpbmVkID8gNDUwIDogX3JlZiRzY3JvbGxXYWl0LFxuICAgICAgICBfcmVmJHNsaWRlT2Zmc2V0ID0gX3JlZi5zbGlkZU9mZnNldCxcbiAgICAgICAgc2xpZGVPZmZzZXQgPSBfcmVmJHNsaWRlT2Zmc2V0ID09PSB1bmRlZmluZWQgPyA1MCA6IF9yZWYkc2xpZGVPZmZzZXQsXG4gICAgICAgIF9yZWYkc2hvd0luZGV4ID0gX3JlZi5zaG93SW5kZXgsXG4gICAgICAgIHNob3dJbmRleCA9IF9yZWYkc2hvd0luZGV4ID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRzaG93SW5kZXg7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2ViU2xpZGVzKTtcblxuICAgIC8qKlxuICAgICAqIFdlYlNsaWRlIGVsZW1lbnQuXG4gICAgICogQHR5cGUge0VsZW1lbnR9XG4gICAgICovXG4gICAgdGhpcy5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd3ZWJzbGlkZXMnKTtcblxuICAgIGlmICghdGhpcy5lbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGZpbmQgdGhlIHdlYnNsaWRlcyBjb250YWluZXIhJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92aW5nIGZsYWcuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc01vdmluZyA9IGZhbHNlO1xuICAgIC8qKlxuICAgICAqIFNsaWRlJ3MgYXJyYXkuXG4gICAgICogQHR5cGUgez9BcnJheTxTbGlkZT59XG4gICAgICovXG4gICAgdGhpcy5zbGlkZXMgPSBudWxsO1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgc2xpZGUncyBpbmRleC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5jdXJyZW50U2xpZGVJXyA9IC0xO1xuICAgIC8qKlxuICAgICAqIEN1cnJlbnQgc2xpZGUgcmVmZXJlbmNlLlxuICAgICAqIEB0eXBlIHs/U2xpZGV9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmN1cnJlbnRTbGlkZV8gPSBudWxsO1xuICAgIC8qKlxuICAgICAqIE1heCBzbGlkZSBpbmRleC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5tYXhTbGlkZV8gPSAwO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIGxheW91dCBpcyBnb2luZyB0byBiZSB2ZXJ0aWNhbCBvciBob3Jpem9udGFsLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqL1xuICAgIHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKENMQVNTRVMuVkVSVElDQUwpO1xuICAgIC8qKlxuICAgICAqIFBsdWdpbidzIGRpY3Rpb25hcnkuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLnBsdWdpbnMgPSB7fTtcbiAgICAvKipcbiAgICAgKiBPcHRpb25zIGRpY3Rpb25hcnkuXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICB0aGlzLm9wdGlvbnMgPSB7XG4gICAgICBhdXRvc2xpZGU6IGF1dG9zbGlkZSxcbiAgICAgIGNoYW5nZU9uQ2xpY2s6IGNoYW5nZU9uQ2xpY2ssXG4gICAgICBsb29wOiBsb29wLFxuICAgICAgbWluV2hlZWxEZWx0YTogbWluV2hlZWxEZWx0YSxcbiAgICAgIG5hdmlnYXRlT25TY3JvbGw6IG5hdmlnYXRlT25TY3JvbGwsXG4gICAgICBzY3JvbGxXYWl0OiBzY3JvbGxXYWl0LFxuICAgICAgc2xpZGVPZmZzZXQ6IHNsaWRlT2Zmc2V0LFxuICAgICAgc2hvd0luZGV4OiBzaG93SW5kZXhcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2F0aW9uIGZsYWcuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pbml0aWFsaXNlZCA9IGZhbHNlO1xuXG4gICAgLy8gQm9vdHN0cmFwcGluZ1xuICAgIHRoaXMucmVtb3ZlQ2hpbGRyZW5fKCk7XG4gICAgdGhpcy5ncmFiU2xpZGVzXygpO1xuICAgIHRoaXMuY3JlYXRlUGx1Z2luc18oKTtcbiAgICB0aGlzLmluaXRTbGlkZXNfKCk7XG4gICAgLy8gRmluaXNoZWRcbiAgICB0aGlzLm9uSW5pdF8oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBlbGVtZW50cyBpbnNpZGUgb2YgdGhlIG1haW4gY29udGFpbmVyIHRoYXQgYXJlIG5vdFxuICAgKiBlbGlnaWJsZSB0byBiZSBhIFNsaWRlIEVsZW1lbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFdlYlNsaWRlcywgW3tcbiAgICBrZXk6ICdyZW1vdmVDaGlsZHJlbl8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbl8oKSB7XG4gICAgICB2YXIgbm9kZXMgPSB0aGlzLmVsLmNoaWxkTm9kZXM7XG4gICAgICB2YXIgaSA9IG5vZGVzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xuXG4gICAgICAgIGlmICghX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zbGlkZV9fW1wiYlwiIC8qIGRlZmF1bHQgKi9dLmlzQ2FuZGlkYXRlKG5vZGUpKSB7XG4gICAgICAgICAgdGhpcy5lbC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYWxsIHRoZSByZWdpc3RlcmVkIHBsdWdpbnMgYW5kIHN0b3JlIHRoZSBpbnN0YW5jZXMgaW5zaWRlIG9mIHRoZVxuICAgICAqIHRoZSB3ZWJzbGlkZSBpbnN0YW5jZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVQbHVnaW5zXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVBsdWdpbnNfKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgT2JqZWN0LmtleXMoUExVR0lOUykuZm9yRWFjaChmdW5jdGlvbiAocGx1Z2luTmFtZSkge1xuICAgICAgICB2YXIgUGx1Z2luQ3RvID0gUExVR0lOU1twbHVnaW5OYW1lXTtcbiAgICAgICAgX3RoaXMucGx1Z2luc1twbHVnaW5OYW1lXSA9IG5ldyBQbHVnaW5DdG8oX3RoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIG9uY2UgdGhlIFdlYlNsaWRlIGluc3RhbmNlIGhhcyBmaW5pc2hlZCBpbml0aWFsaXNpbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAZmlyZXMgV2ViU2xpZGUjd3M6aW5pdFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvbkluaXRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Jbml0XygpIHtcbiAgICAgIHRoaXMuaW5pdGlhbGlzZWQgPSB0cnVlO1xuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5maXJlRXZlbnQodGhpcy5lbCwgJ3dzOmluaXQnKTtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTRVMuUkVBRFkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdyYWJzIHRoZSBzbGlkZXMgZnJvbSB0aGUgRE9NIGFuZCBjcmVhdGVzIGFsbCB0aGUgU2xpZGVzIG1vZHVsZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ3JhYlNsaWRlc18nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBncmFiU2xpZGVzXygpIHtcbiAgICAgIHRoaXMuc2xpZGVzID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS50b0FycmF5KHRoaXMuZWwuY2hpbGROb2RlcykubWFwKGZ1bmN0aW9uIChzbGlkZSwgaSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc2xpZGVfX1tcImJcIiAvKiBkZWZhdWx0ICovXShzbGlkZSwgaSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5tYXhTbGlkZV8gPSB0aGlzLnNsaWRlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR29lcyB0byBhIGdpdmVuIHNsaWRlLlxuICAgICAqIEBwYXJhbSB7IW51bWJlcn0gc2xpZGVJIFRoZSBzbGlkZSBpbmRleC5cbiAgICAgKiBAcGFyYW0gez9ib29sZWFuPX0gZm9yd2FyZCBXaGV0aGVyIHdlJ3JlIGZvcmNpbmcgbW92aW5nIGZvcndhcmQvYmFja3dhcmRzLlxuICAgICAqIFRoaXMgcGFyYW1ldGVyIGlzIHVzZWQgb25seSBmcm9tIHRoZSBnb05leHQsIGdvUHJldiBmdW5jdGlvbnMgdG8gYWRqdXN0IHRoZVxuICAgICAqIHNjcm9sbCBhbmltYXRpb25zLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnb1RvU2xpZGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnb1RvU2xpZGUoc2xpZGVJKSB7XG4gICAgICB2YXIgZm9yd2FyZCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogbnVsbDtcblxuICAgICAgaWYgKHRoaXMuaXNWYWxpZEluZGV4U2xpZGVfKHNsaWRlSSkgJiYgIXRoaXMuaXNNb3ZpbmcgJiYgdGhpcy5jdXJyZW50U2xpZGVJXyAhPT0gc2xpZGVJKSB7XG4gICAgICAgIHRoaXMuaXNNb3ZpbmcgPSB0cnVlO1xuICAgICAgICB2YXIgaXNNb3ZpbmdGb3J3YXJkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGZvcndhcmQgIT09IG51bGwpIHtcbiAgICAgICAgICBpc01vdmluZ0ZvcndhcmQgPSBmb3J3YXJkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZUlfID49IDApIHtcbiAgICAgICAgICAgIGlzTW92aW5nRm9yd2FyZCA9IHNsaWRlSSA+IHRoaXMuY3VycmVudFNsaWRlSV87XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBuZXh0U2xpZGUgPSB0aGlzLnNsaWRlc1tzbGlkZUldO1xuXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZV8gIT09IG51bGwgJiYgdGhpcy5pc1ZlcnRpY2FsICYmICghdGhpcy5wbHVnaW5zLnRvdWNoIHx8ICF0aGlzLnBsdWdpbnMudG91Y2guaXNFbmFibGVkKSkge1xuICAgICAgICAgIHRoaXMuc2Nyb2xsVHJhbnNpdGlvblRvU2xpZGVfKGlzTW92aW5nRm9yd2FyZCwgbmV4dFNsaWRlLCB0aGlzLm9uU2xpZGVDaGFuZ2VfKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRyYW5zaXRpb25Ub1NsaWRlXyhpc01vdmluZ0ZvcndhcmQsIG5leHRTbGlkZSwgdGhpcy5vblNsaWRlQ2hhbmdlXyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2l0aW9ucyB0byBhIHNsaWRlLCBkb2luZyB0aGUgc2Nyb2xsIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzTW92aW5nRm9yd2FyZCBXaGV0aGVyIHdlJ3JlIGdvaW5nIGZvcndhcmQgb3IgYmFja3dhcmRzLlxuICAgICAqIEBwYXJhbSB7U2xpZGV9IG5leHRTbGlkZSBOZXh0IHNsaWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIENhbGxiYWNrIHRvIGJlIGNhbGxlZCB1cG9uIGZpbmlzaGluZy4gVGhpcyBpcyBhblxuICAgICAqIGFzeW5jIGZ1bmN0aW9uIHNvIGl0J2xsIGhhcHBlbiBvbmNlIHRoZSBzY3JvbGwgYW5pbWF0aW9uIGZpbmlzaGVzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBzY3JvbGxUb1xuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzY3JvbGxUcmFuc2l0aW9uVG9TbGlkZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxUcmFuc2l0aW9uVG9TbGlkZV8oaXNNb3ZpbmdGb3J3YXJkLCBuZXh0U2xpZGUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdGhpcy5lbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gICAgICBpZiAoIWlzTW92aW5nRm9yd2FyZCkge1xuICAgICAgICBuZXh0U2xpZGUubW92ZUJlZm9yZUZpcnN0KCk7XG4gICAgICAgIG5leHRTbGlkZS5zaG93KCk7XG4gICAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX3Njcm9sbF90b19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKSh0aGlzLmN1cnJlbnRTbGlkZV8uZWwub2Zmc2V0VG9wLCAwKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5leHRTbGlkZS5zaG93KCk7XG4gICAgICB9XG5cbiAgICAgIE9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX3V0aWxzX3Njcm9sbF90b19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dKShuZXh0U2xpZGUuZWwub2Zmc2V0VG9wLCA1MDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXMyLmN1cnJlbnRTbGlkZV8uaGlkZSgpO1xuXG4gICAgICAgIGlmIChpc01vdmluZ0ZvcndhcmQpIHtcbiAgICAgICAgICBfdGhpczIuY3VycmVudFNsaWRlXy5tb3ZlQWZ0ZXJMYXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBfdGhpczIuZWwuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMyLCBuZXh0U2xpZGUpO1xuICAgICAgICB9LCAxNTApO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbnMgdG8gYSBzbGlkZSwgd2l0aG91dCBkb2luZyB0aGUgc2Nyb2xsIGFuaW1hdGlvbi4gSWYgdGhlIHBhZ2UgaXNcbiAgICAgKiBhbHJlYWR5IGluaXRpYWxpc2VkIGFuZCBvbiBtb2JpbGUgZGV2aWNlLCBpdCB3aWxsIGRvIGEgc2xpZGUgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNb3ZpbmdGb3J3YXJkIFdoZXRoZXIgd2UncmUgZ29pbmcgZm9yd2FyZCBvciBiYWNrd2FyZHMuXG4gICAgICogQHBhcmFtIHtTbGlkZX0gbmV4dFNsaWRlIE5leHQgc2xpZGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGJhY2sgdG8gYmUgY2FsbGVkIHVwb24gZmluaXNoaW5nLiBUaGlzIGlzIGFcbiAgICAgKiBzeW5jIGZ1bmN0aW9uIHNvIGl0J2xsIGhhcHBlbiBvbiBydW4gdGltZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICd0cmFuc2l0aW9uVG9TbGlkZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB0cmFuc2l0aW9uVG9TbGlkZV8oaXNNb3ZpbmdGb3J3YXJkLCBuZXh0U2xpZGUsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fdXRpbHNfc2Nyb2xsX3RvX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKDAsIDApO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9ICdzbGlkZUluUmlnaHQnO1xuXG4gICAgICBpZiAoIWlzTW92aW5nRm9yd2FyZCkge1xuICAgICAgICBuZXh0U2xpZGUubW92ZUJlZm9yZUZpcnN0KCk7XG4gICAgICAgIGNsYXNzTmFtZSA9ICdzbGlkZUluTGVmdCc7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZV8pIHtcbiAgICAgICAgaWYgKGlzTW92aW5nRm9yd2FyZCkge1xuICAgICAgICAgIHRoaXMuY3VycmVudFNsaWRlXy5tb3ZlQWZ0ZXJMYXN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmN1cnJlbnRTbGlkZV8uaGlkZSgpO1xuICAgICAgfVxuXG4gICAgICBuZXh0U2xpZGUuc2hvdygpO1xuXG4gICAgICBpZiAodGhpcy5pbml0aWFsaXNlZCAmJiB0aGlzLnBsdWdpbnMudG91Y2ggJiYgdGhpcy5wbHVnaW5zLnRvdWNoLmlzRW5hYmxlZCkge1xuICAgICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLm9uY2UobmV4dFNsaWRlLmVsLCBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmdldEFuaW1hdGlvbkV2ZW50KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBuZXh0U2xpZGUuZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgIGNhbGxiYWNrLmNhbGwoX3RoaXMzLCBuZXh0U2xpZGUpO1xuICAgICAgICB9KTtcblxuICAgICAgICBuZXh0U2xpZGUuZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzLCBuZXh0U2xpZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFdoZW5ldmVyIGEgc2xpZGUgaXMgY2hhbmdlZCwgdGhpcyBmdW5jdGlvbiBnZXRzIGNhbGxlZC4gSXQgdXBkYXRlcyB0aGVcbiAgICAgKiByZWZlcmVuY2VzIHRvIHRoZSBjdXJyZW50IHNsaWRlLCBkaXNhYmxlcyB0aGUgbW92aW5nIGZsYWcgYW5kIGZpcmVzXG4gICAgICogYSBjdXN0b20gZXZlbnQuXG4gICAgICogQHBhcmFtIHtTbGlkZX0gc2xpZGUgVGhlIHNsaWRlIHdlJ3JlIHRyYW5zaXRpb25pbmcgdG8uXG4gICAgICogQGZpcmVzIFdlYlNsaWRlI3dzOnNsaWRlLWNoYW5nZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU2xpZGVDaGFuZ2VfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TbGlkZUNoYW5nZV8oc2xpZGUpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRTbGlkZV8pIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2xpZGVfLmRpc2FibGUoKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5jdXJyZW50U2xpZGVfID0gc2xpZGU7XG4gICAgICB0aGlzLmN1cnJlbnRTbGlkZUlfID0gc2xpZGUuaTtcbiAgICAgIHRoaXMuY3VycmVudFNsaWRlXy5lbmFibGUoKTtcbiAgICAgIHRoaXMuaXNNb3ZpbmcgPSBmYWxzZTtcblxuICAgICAgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5maXJlRXZlbnQodGhpcy5lbCwgJ3dzOnNsaWRlLWNoYW5nZScsIHtcbiAgICAgICAgc2xpZGVzOiB0aGlzLm1heFNsaWRlXyxcbiAgICAgICAgY3VycmVudFNsaWRlMDogdGhpcy5jdXJyZW50U2xpZGVJXyxcbiAgICAgICAgY3VycmVudFNsaWRlOiB0aGlzLmN1cnJlbnRTbGlkZUlfICsgMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR29lcyB0byB0aGUgbmV4dCBzbGlkZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ29OZXh0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ29OZXh0KCkge1xuICAgICAgdmFyIG5leHRJbmRleCA9IHRoaXMuY3VycmVudFNsaWRlSV8gKyAxO1xuXG4gICAgICBpZiAobmV4dEluZGV4ID49IHRoaXMubWF4U2xpZGVfKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxvb3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0SW5kZXggPSAwO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmdvVG9TbGlkZShuZXh0SW5kZXgsIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdvZXMgdG8gdGhlIHByZXZpb3VzIHNsaWRlLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnb1ByZXYnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnb1ByZXYoKSB7XG4gICAgICB2YXIgcHJldkluZGV4ID0gdGhpcy5jdXJyZW50U2xpZGVJXyAtIDE7XG5cbiAgICAgIGlmIChwcmV2SW5kZXggPCAwKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmxvb3ApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBwcmV2SW5kZXggPSB0aGlzLm1heFNsaWRlXyAtIDE7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ29Ub1NsaWRlKHByZXZJbmRleCwgZmFsc2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIHRoZSBnaXZlbiBudW1iZXIgaXMgYSB2YWxpZCBpbmRleCB0byBnbyB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaSBUaGUgaW5kZXggdG8gY2hlY2suXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB5b3UgY2FuIG1vdmUgdG8gdGhhdCBzbGlkZSBvciBub3QuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNWYWxpZEluZGV4U2xpZGVfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZEluZGV4U2xpZGVfKGkpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgaSA9PT0gJ251bWJlcicgJiYgaSA+PSAwICYmIGkgPCB0aGlzLm1heFNsaWRlXztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0IHRoZSBzaG93biBzbGlkZSBvbiBsb2FkLiBJdCdsbCBmZXRjaCBpdCBmcm9tIHRoZSBIYXNoIGlmIHByZXNlbnRcbiAgICAgKiBhbmQsIG90aGVyd2lzZSwgaXQnbGwgZGVmYXVsdCB0byB0aGUgZmlyc3Qgb25lLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHNlZSBIYXNoLmdldFNsaWRlTnVtYmVyXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2luaXRTbGlkZXNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdFNsaWRlc18oKSB7XG4gICAgICB2YXIgc2xpZGVOdW1iZXIgPSB0aGlzLnBsdWdpbnMuaGFzaC5jb25zdHJ1Y3Rvci5nZXRTbGlkZU51bWJlcigpO1xuXG4gICAgICAvLyBOb3QgdmFsaWRcbiAgICAgIGlmIChzbGlkZU51bWJlciA9PT0gbnVsbCB8fCBzbGlkZU51bWJlciA+PSB0aGlzLm1heFNsaWRlXykge1xuICAgICAgICBzbGlkZU51bWJlciA9IDA7XG4gICAgICB9XG5cbiAgICAgIC8vIEtlZXBpbmcgdGhlIG9yZGVyXG4gICAgICBpZiAoc2xpZGVOdW1iZXIgIT09IDApIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuXG4gICAgICAgIHdoaWxlIChpIDwgc2xpZGVOdW1iZXIpIHtcbiAgICAgICAgICB0aGlzLnNsaWRlc1tpXS5tb3ZlQWZ0ZXJMYXN0KCk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuZ29Ub1NsaWRlKHNsaWRlTnVtYmVyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHpvb21cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndG9nZ2xlWm9vbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVpvb20oKSB7XG4gICAgICBpZiAodGhpcy5vcHRpb25zLnNob3dJbmRleCkge1xuICAgICAgICB0aGlzLnBsdWdpbnMuem9vbS50b2dnbGVab29tKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIHdlYnNsaWRlcyBlbGVtZW50IGFkZGluZyBhIGNsYXNzIFwiZGlzYWJsZWRcIlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZChDTEFTU0VTLkRJU0FCTEVEKTtcblxuICAgICAgaWYgKHRoaXMucGx1Z2lucy5hdXRvc2xpZGUgJiYgdGhpcy5wbHVnaW5zLmF1dG9zbGlkZS50aW1lICE9PSBmYWxzZSkge1xuICAgICAgICB0aGlzLnBsdWdpbnMuYXV0b3NsaWRlLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGVzIHRoZSB3ZWJzbGlkZXMgZWxlbWVudCByZW1vdmluZyBhIGNsYXNzIFwiZGlzYWJsZWRcIlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLmVsLmNsYXNzTGlzdC5yZW1vdmUoQ0xBU1NFUy5ESVNBQkxFRCk7XG5cbiAgICAgIGlmICh0aGlzLnBsdWdpbnMuYXV0b3NsaWRlICYmIHRoaXMucGx1Z2lucy5hdXRvc2xpZGUudGltZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmF1dG9zbGlkZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGl0IGlzIGRpc2FibGVkXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaXNEaXNhYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzRGlzYWJsZWQoKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbC5jbGFzc0xpc3QuY29udGFpbnMoQ0xBU1NFUy5ESVNBQkxFRCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHV0cyB0aGUgYnJvd3NlciBpbnRvIGZ1bGxzY3JlZW5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZnVsbHNjcmVlbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZ1bGxzY3JlZW4oKSB7XG4gICAgICB2YXIgZWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICB2YXIgaXNGdWxsc2NyZWVuID0gZG9jdW1lbnQuZnVsbHNjcmVlbiB8fCBkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW4gfHwgZG9jdW1lbnQubW96RnVsbFNjcmVlbiB8fCBkb2N1bWVudC5tc0Z1bGxTY3JlZW5FbGVtZW50O1xuXG4gICAgICBpZiAoIWlzRnVsbHNjcmVlbikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCBoYXJkIHRvIHRlc3QgcHJlZml4ZXMgKi9cbiAgICAgICAgdmFyIHJlcXVlc3RGdWxsc2NyZWVuID0gZWwucmVxdWVzdEZ1bGxzY3JlZW4gfHwgZWwud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWwubW96UmVxdWVzdEZ1bGxTY3JlZW4gfHwgZWwubXNSZXF1ZXN0RnVsbHNjcmVlbjtcbiAgICAgICAgcmVxdWVzdEZ1bGxzY3JlZW4uY2FsbChlbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCBoYXJkIHRvIHRlc3QgcHJlZml4ZXMgKi9cbiAgICAgICAgdmFyIGNhbmNlbEZ1bGxzY3JlZW4gPSBkb2N1bWVudC5leGl0RnVsbFNjcmVlbiB8fCBkb2N1bWVudC53ZWJraXRDYW5jZWxGdWxsU2NyZWVuIHx8IGRvY3VtZW50Lm1vekNhbmNlbEZ1bGxTY3JlZW4gfHwgZG9jdW1lbnQubXNFeGl0RnVsbHNjcmVlbjtcblxuICAgICAgICBjYW5jZWxGdWxsc2NyZWVuLmNhbGwoZG9jdW1lbnQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIHBsdWdpbiB0byBiZSBsb2FkZWQgd2hlbiB0aGUgaW5zdGFuY2UgaXMgY3JlYXRlZC4gSXQgYWxsb3dzXG4gICAgICogKG9uIHB1cnBvc2UpIHRvIHJlcGxhY2UgZGVmYXVsdCBwbHVnaW5zLlxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30ga2V5IFRoZXkga2V5IHVuZGVyIHdoaWNoIGl0J2xsIGJlIHN0b3JlZCBpbnNpZGUgb2YgdGhlXG4gICAgICogaW5zdGFuY2UsIGluc2lkZSB0aGUgcGx1Z2lucyBkaWN0LlxuICAgICAqIEBwYXJhbSB7IUZ1bmN0aW9ufSBjdG8gUGx1Z2luIGNvbnN0cnVjdG9yLlxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogJ3JlZ2lzdGVyUGx1Z2luJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJQbHVnaW4oa2V5LCBjdG8pIHtcbiAgICAgIFBMVUdJTlNba2V5XSA9IGN0bztcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gV2ViU2xpZGVzO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFdlYlNsaWRlcyk7XG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2F1dG9zbGlkZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg4KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX2NsaWNrX25hdl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxMCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19ncmlkX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDExKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX2hhc2hfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTIpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fa2V5Ym9hcmRfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTMpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9fbmF2aWdhdGlvbl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X19zY3JvbGxfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTUpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fdG91Y2hfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTYpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOF9fdmlkZW9fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTcpO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfOV9feW91dHViZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOCk7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fem9vbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxOSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKHtcbiAgQXV0b1NsaWRlOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX2F1dG9zbGlkZV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBDbGlja05hdjogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19jbGlja19uYXZfX1tcImFcIiAvKiBkZWZhdWx0ICovXSxcbiAgR3JpZDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19ncmlkX19bXCJhXCIgLyogZGVmYXVsdCAqL10sXG4gIEhhc2g6IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19faGFzaF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBLZXlib2FyZDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19rZXlib2FyZF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBOYXZpZ2F0aW9uOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfX25hdmlnYXRpb25fX1tcImFcIiAvKiBkZWZhdWx0ICovXSxcbiAgU2Nyb2xsOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfX3Njcm9sbF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBUb3VjaDogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV83X190b3VjaF9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBWaWRlbzogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV84X192aWRlb19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLFxuICBZb3VUdWJlOiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfX3lvdXR1YmVfX1tcImFcIiAvKiBkZWZhdWx0ICovXSxcbiAgWm9vbTogX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fem9vbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dXG59KTtcblxuLyoqKi8gfSksXG4vKiA4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbi8qKlxuICogQXV0b3NsaWRlIHBsdWdpbi5cbiAqL1xuXG52YXIgQXV0b1NsaWRlID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIEF1dG9TbGlkZSh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEF1dG9TbGlkZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuICAgIC8qKlxuICAgICAqIEludGVydmFsIElEIHJlZmVyZW5jZSBmb3IgdGhlIGF1dG9zbGlkZS5cbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaW50ZXJ2YWxfID0gbnVsbDtcbiAgICAvKipcbiAgICAgKiBJbnRlcm5hbCBzdG9yZWQgdGltZS5cbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWUgPSB0aGlzLndzXy5vcHRpb25zLmF1dG9zbGlkZTtcblxuICAgIGlmICh0aGlzLnRpbWUpIHtcbiAgICAgIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10ub25jZSh3c0luc3RhbmNlLmVsLCAnd3M6aW5pdCcsIHRoaXMucGxheS5iaW5kKHRoaXMpKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCB0aGlzLm9uRm9jdXMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE9uIGZvY3VzIGhhbmRsZXIuIFdpbGwgZGVjaWRlIGlmIHN0b3BzL3BsYXkgZGVwZW5kaW5nIG9uIHRoZSBmb2N1c2VkXG4gICAqIGVsZW1lbnQgaWYgYXV0b3NsaWRlIGlzIGFjdGl2ZS5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoQXV0b1NsaWRlLCBbe1xuICAgIGtleTogJ29uRm9jdXMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkZvY3VzKCkge1xuICAgICAgaWYgKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaXNGb2N1c2FibGVFbGVtZW50KCkpIHtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaW50ZXJ2YWxfID09PSBudWxsKSB7XG4gICAgICAgIHRoaXMucGxheSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyBhdXRvc2xpZGluZyBhbGwgdGhlIHNsaWRlcyBpZiBpdCdzIG5vdCBjdXJyZW50bHkgZG9pbmcgaXQgYW5kIHRoZVxuICAgICAqIGF1dG9zbGlkZSBvcHRpb24gd2FzIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAwLlxuICAgICAqIEBwYXJhbSB7P251bWJlcj19IHRpbWUgQW1vdW50IG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IHRvIGdvIHRvIG5leHQgc2xpZGVcbiAgICAgKiBhdXRvbWF0aWNhbGx5LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheSh0aW1lKSB7XG4gICAgICBpZiAodHlwZW9mIHRpbWUgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHRpbWUgPSB0aGlzLnRpbWU7XG4gICAgICB9XG5cbiAgICAgIHRoaXMudGltZSA9IHRpbWU7XG5cbiAgICAgIGlmICghdGhpcy5pbnRlcnZhbF8gJiYgdHlwZW9mIHRpbWUgPT09ICdudW1iZXInICYmIHRpbWUgPiAwKSB7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfID0gc2V0SW50ZXJ2YWwodGhpcy53c18uZ29OZXh0LmJpbmQodGhpcy53c18pLCB0aW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wcyBhdXRvc2xpZGluZyBhbGwgdGhlIHNsaWRlcy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICBpZiAodGhpcy5pbnRlcnZhbF8pIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsXyk7XG4gICAgICAgIHRoaXMuaW50ZXJ2YWxfID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQXV0b1NsaWRlO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEF1dG9TbGlkZSk7XG5cbi8qKiovIH0pLFxuLyogOSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBOYXRpdmVDdXN0b21FdmVudCA9IHdpbmRvdy5DdXN0b21FdmVudDtcblxuLyoqXG4gKiBDaGVjayBmb3IgdGhlIHVzYWdlIG9mIG5hdGl2ZSBzdXBwb3J0IGZvciBDdXN0b21FdmVudHMgd2hpY2ggaXMgbGFja2luZ1xuICogY29tcGxldGVseSBvbiBJRS5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgaXQgY2FuIGJlIHVzZWQgb3Igbm90LlxuICovXG5mdW5jdGlvbiBjYW5JdXNlTmF0aXZlQ3VzdG9tKCkge1xuICB0cnkge1xuICAgIHZhciBwID0gbmV3IE5hdGl2ZUN1c3RvbUV2ZW50KCd0Jywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGE6ICdiJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAndCcgPT09IHAudHlwZSAmJiAnYicgPT09IHAuZGV0YWlsLmE7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGhhcmQgdG8gcmVwcm9kdWNlIG9uIHRlc3QgZW52aXJvbm1lbnQgICovXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBMb3VzeSBwb2x5ZmlsbCBmb3IgdGhlIEN1c3RvbSBFdmVudCBjb25zdHJ1Y3RvciBmb3IgSUUuXG4gKiBAcGFyYW0geyFzdHJpbmd9IHR5cGUgVGhlIHR5cGUgb2YgdGhlIGV2ZW50LlxuICogQHBhcmFtIHs/T2JqZWN0fSBwYXJhbXMgQWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmb3IgdGhlIGV2ZW50LlxuICogQHJldHVybiB7RXZlbnR9XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGhhcmQgdG8gcmVwcm9kdWNlIG9uIHRlc3QgZW52aXJvbm1lbnQgICovXG52YXIgSUVDdXN0b21FdmVudCA9IGZ1bmN0aW9uIEN1c3RvbUV2ZW50KHR5cGUsIHBhcmFtcykge1xuICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuXG4gIGlmIChwYXJhbXMpIHtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBwYXJhbXMuYnViYmxlcywgcGFyYW1zLmNhbmNlbGFibGUsIHBhcmFtcy5kZXRhaWwpO1xuICB9IGVsc2Uge1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSwgdW5kZWZpbmVkKTtcbiAgfVxuXG4gIHJldHVybiBlO1xufTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IGhhcmQgdG8gcmVwcm9kdWNlIG9uIHRlc3QgZW52aXJvbm1lbnQgICovXG52YXIgV1NDdXN0b21FdmVudCA9IGNhbkl1c2VOYXRpdmVDdXN0b20oKSA/IE5hdGl2ZUN1c3RvbUV2ZW50IDogSUVDdXN0b21FdmVudDtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChXU0N1c3RvbUV2ZW50KTtcblxuLyoqKi8gfSksXG4vKiAxMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBDTElDS0FCTEVfRUxTID0gWydJTlBVVCcsICdTRUxFQ1QnLCAnT1BUSU9OJywgJ0JVVFRPTicsICdBJywgJ1RFWFRBUkVBJ107XG5cbi8qKlxuICogQ2xpY2tOYXYgcGx1Z2luIHRoYXQgYWxsb3dzIHRvIGNsaWNrIG9uIHRoZSBwYWdlIHRvIGdldCB0byB0aGUgbmV4dCBzbGlkZS5cbiAqL1xuXG52YXIgQ2xpY2tOYXYgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gQ2xpY2tOYXYod3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGlja05hdik7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuXG4gICAgaWYgKHdzSW5zdGFuY2Uub3B0aW9ucy5jaGFuZ2VPbkNsaWNrKSB7XG4gICAgICB0aGlzLndzXy5lbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja18uYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB0aGUgY2xpY2sgZXZlbnQuIEl0IHdpbGwgZ28gdG8gdGhlIG5leHQgc2xpZGUgdW5sZXNzIHRoZSBlbGVtZW50XG4gICAqIGhhcyBhIGRhdGEtcHJldmVudC1uYXYgYXR0cmlidXRlIG9yIGlzIG9uIHRoZSBsaXN0IG9mIENMSUNLQUJMRV9FTFMuXG4gICAqIEBwYXJhbSB7TW91c2VFdmVudH0gZXZlbnQgVGhlIGNsaWNrIGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhDbGlja05hdiwgW3tcbiAgICBrZXk6ICdvbkNsaWNrXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tfKGV2ZW50KSB7XG4gICAgICBpZiAoQ0xJQ0tBQkxFX0VMUy5pbmRleE9mKGV2ZW50LnRhcmdldC50YWdOYW1lKSA8IDAgJiYgdHlwZW9mIGV2ZW50LnRhcmdldC5kYXRhc2V0LnByZXZlbnROYXYgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBDbGlja05hdjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChDbGlja05hdik7XG5cbi8qKiovIH0pLFxuLyogMTEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuXG5cbnZhciBHUklEX0lNQUdFID0gJ2RhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQmdBQUFBWUFnJyArICdNQUFBQ2RHZFZyQUFBQUNWQk1WRVVBQUFBdFhzVXRYY1BERFBVV0FBQUFBM1JTVGxNQVptSHpaRmt4QUFBQUZrbEVRVlFJMTJNJyArICdBQTliQlIzRXhoQUpCMWlvb0JRQkd3Z1ZFcy9RdHVBQUFBQUJKUlU1RXJrSmdnZz09JztcblxuLyoqXG4gKiBHcmlkIHBsdWdpbiB0aGF0IHNob3dzIGEgZ3JpZCBvbiB0b3Agb2YgdGhlIFdlYlNsaWRlcyBmb3IgZWFzeSBwcm90b3R5cGluZy5cbiAqL1xuXG52YXIgR3JpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViU2xpZGVzfSB3c0luc3RhbmNlIFRoZSBXZWJTbGlkZXMgaW5zdGFuY2VcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBHcmlkKHdzSW5zdGFuY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR3JpZCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuXG4gICAgdmFyIENTUyA9ICdib2R5LmJhc2VsaW5lIHtcXG4gICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB1cmwoJyArIEdSSURfSU1BR0UgKyAnKSBsZWZ0IHRvcCAuOHJlbS8uOHJlbTtcXG4gICAgICAgICAgICAgICAgfSc7XG4gICAgdmFyIGhlYWQgPSBkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdoZWFkJylbMF07XG4gICAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcblxuICAgIHN0eWxlLnR5cGUgPSAndGV4dC9jc3MnO1xuXG4gICAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IENTUztcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ1NTKSk7XG4gICAgfVxuXG4gICAgaGVhZC5hcHBlbmRDaGlsZChzdHlsZSk7XG5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5vbktleVByZXNzXy5iaW5kKHRoaXMpLCBmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogUmVhY3RzIHRvIHRoZSBrZXlkb3duIGV2ZW50LiBJdCByZWFjdHMgdG8gRU5URVIga2V5IHRvIHRvZ2dsZSB0aGUgY2xhc3MuXG4gICAqIEBwYXJhbSB7S2V5Ym9hcmRFdmVudH0gZXZlbnQgVGhlIGtleSBldmVudC5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoR3JpZCwgW3tcbiAgICBrZXk6ICdvbktleVByZXNzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3NfKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQud2hpY2ggPT09IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVOVEVSKSB7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZSgnYmFzZWxpbmUnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gR3JpZDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChHcmlkKTtcblxuLyoqKi8gfSksXG4vKiAxMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBIQVNIID0gJyNzbGlkZSc7XG52YXIgc2xpZGVSZWdleCA9IC8jc2xpZGU9KFxcZCspLztcblxuLyoqXG4gKiBTdGF0aWMgY2xhc3Mgd2l0aCBtZXRob2RzIHRvIG1hbmlwdWxhdGUgYW5kIGV4dHJhY3QgaW5mbyBmcm9tIHRoZSBoYXNoIG9mXG4gKiB0aGUgVVJMLlxuICovXG5cbnZhciBIYXNoID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2VcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBIYXNoKHdzSW5zdGFuY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSGFzaCk7XG5cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICB3c0luc3RhbmNlLmVsLmFkZEV2ZW50TGlzdGVuZXIoJ3dzOnNsaWRlLWNoYW5nZScsIEhhc2gub25TbGlkZUNoYW5nZV8pO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdoYXNoY2hhbmdlJywgdGhpcy5vbkhhc2hDaGFuZ2VfLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBoYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXIsIG1ha2VzIHRoZSBXZWJTbGlkZSBpbnN0YW5jZSBuYXZpZ2F0ZSB0byB0aGVcbiAgICogbmVlZGVkIHNsaWRlLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhIYXNoLCBbe1xuICAgIGtleTogJ29uSGFzaENoYW5nZV8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhhc2hDaGFuZ2VfKCkge1xuICAgICAgdmFyIG5ld1NsaWRlSW5kZXggPSBIYXNoLmdldFNsaWRlTnVtYmVyKCk7XG5cbiAgICAgIGlmIChuZXdTbGlkZUluZGV4ICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMud3NfLmdvVG9TbGlkZShuZXdTbGlkZUluZGV4KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVyIGZvciB0aGUgc2xpZGUgY2hhbmdlIGV2ZW50IHdoaWNoIHVwZGF0ZXMgdGhlIHNsaWRlIG9uIHRoZSBoYXNoLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdvblNsaWRlQ2hhbmdlXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2xpZGVDaGFuZ2VfKGV2ZW50KSB7XG4gICAgICBIYXNoLnNldFNsaWRlTnVtYmVyKGV2ZW50LmRldGFpbC5jdXJyZW50U2xpZGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNsaWRlIG51bWJlciBmcm9tIHRoZSBoYXNoIGJ5IGEgcmVnZXggbWF0Y2hpbmcgYCNzbGlkZT1gIGFuZCBnZXRzXG4gICAgICogdGhlIG51bWJlciBhZnRlciBpdC4gSWYgdGhlIG51bWJlciBpcyBpbnZhbGlkIG9yIGxlc3MgdGhhbiAwLCBpdCB3aWxsXG4gICAgICogcmV0dXJuIG51bGwgYXMgYW4gaW52YWxpZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJuIHs/bnVtYmVyfVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdnZXRTbGlkZU51bWJlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNsaWRlTnVtYmVyKCkge1xuICAgICAgdmFyIHJlc3VsdHMgPSBkb2N1bWVudC5sb2NhdGlvbi5oYXNoLm1hdGNoKHNsaWRlUmVnZXgpO1xuICAgICAgdmFyIHNsaWRlID0gMDtcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0cykpIHtcbiAgICAgICAgc2xpZGUgPSBwYXJzZUludChyZXN1bHRzWzFdLCAxMCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Ygc2xpZGUgIT09ICdudW1iZXInIHx8IHNsaWRlIDwgMCB8fCAhQXJyYXkuaXNBcnJheShyZXN1bHRzKSkge1xuICAgICAgICBzbGlkZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzbGlkZS0tOyAvLyBDb252ZXJ0IHRvIDAgaW5kZXhcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNsaWRlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0IHdpbGwgdXBkYXRlIHRoZSBoYXNoIChpZiBpdCdzIGRpZmZlcmVudCkgc28gaXQgcmVmbGVjdHMgdGhlIHNsaWRlXG4gICAgICogbnVtYmVyIGJlaW5nIHZpc2libGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIG9mIHRoZSBzbGlkZSB3ZSdyZSB0cmFuc2l0aW9uaW5nIHRvLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdzZXRTbGlkZU51bWJlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldFNsaWRlTnVtYmVyKG51bWJlcikge1xuICAgICAgaWYgKEhhc2guZ2V0U2xpZGVOdW1iZXIoKSAhPT0gbnVtYmVyIC0gMSkge1xuICAgICAgICBoaXN0b3J5LnB1c2hTdGF0ZSh7XG4gICAgICAgICAgc2xpZGVJOiBudW1iZXIgLSAxXG4gICAgICAgIH0sICdTbGlkZSAnICsgbnVtYmVyLCBIQVNIICsgJz0nICsgbnVtYmVyKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gSGFzaDtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChIYXNoKTtcblxuLyoqKi8gfSksXG4vKiAxMyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2tleXNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19kb21fXyA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG4vKipcbiAqIEtleWJvYXJkIGludGVyYWN0aW9uIHBsdWdpbi5cbiAqL1xuXG52YXIgS2V5Ym9hcmQgPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gS2V5Ym9hcmQod3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBLZXlib2FyZCk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlQcmVzc18uYmluZCh0aGlzKSwgZmFsc2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlYWN0cyB0byB0aGUga2V5ZG93biBldmVudC4gSXQgcmVhY3RzIHRvIHRoZSBhcnJvd3MgYW5kIHNwYWNlIGtleVxuICAgKiBkZXBlbmRpbmcgb24gdGhlIGxheW91dCBvZiB0aGUgcGFnZS5cbiAgICogQHBhcmFtIHtLZXlib2FyZEV2ZW50fSBldmVudCBUaGUga2V5IGV2ZW50LlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhLZXlib2FyZCwgW3tcbiAgICBrZXk6ICdvbktleVByZXNzXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5UHJlc3NfKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0aG9kID0gdm9pZCAwO1xuICAgICAgdmFyIGFyZ3VtZW50ID0gdm9pZCAwO1xuXG4gICAgICBpZiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc0ZvY3VzYWJsZUVsZW1lbnQoKSB8fCB0aGlzLndzXy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBzd2l0Y2ggKGV2ZW50LndoaWNoKSB7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uQVZfUEFHRTpcbiAgICAgICAgY2FzZSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2tleXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5TUEFDRTpcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb05leHQ7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uUkVfUEFHRTpcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb1ByZXY7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uSE9NRTpcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb1RvU2xpZGU7XG4gICAgICAgICAgYXJndW1lbnQgPSAwO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkVORDpcbiAgICAgICAgICBtZXRob2QgPSB0aGlzLndzXy5nb1RvU2xpZGU7XG4gICAgICAgICAgYXJndW1lbnQgPSB0aGlzLndzXy5tYXhTbGlkZV8gLSAxO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkRPV046XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uaXNWZXJ0aWNhbCA/IHRoaXMud3NfLmdvTmV4dCA6IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uVVA6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uaXNWZXJ0aWNhbCA/IHRoaXMud3NfLmdvUHJldiA6IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uTEVGVDpcbiAgICAgICAgICBtZXRob2QgPSAhdGhpcy53c18uaXNWZXJ0aWNhbCA/IHRoaXMud3NfLmdvUHJldiA6IG51bGw7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uUklHSFQ6XG4gICAgICAgICAgbWV0aG9kID0gIXRoaXMud3NfLmlzVmVydGljYWwgPyB0aGlzLndzXy5nb05leHQgOiBudWxsO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfa2V5c19fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLkY6XG4gICAgICAgICAgbWV0aG9kID0gdGhpcy53c18uZnVsbHNjcmVlbjtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICBtZXRob2QuY2FsbCh0aGlzLndzXywgYXJndW1lbnQpO1xuICAgICAgICAvLyBQcmV2ZW50cyBGaXJlZm94IGtleSBldmVudHMuXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEtleWJvYXJkO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKEtleWJvYXJkKTtcblxuLyoqKi8gfSksXG4vKiAxNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG52YXIgRUxFTUVOVF9JRCA9IHtcbiAgTkFWOiAnbmF2aWdhdGlvbicsXG4gIE5FWFQ6ICduZXh0JyxcbiAgUFJFVjogJ3ByZXZpb3VzJyxcbiAgQ09VTlRFUjogJ2NvdW50ZXInXG59O1xuXG52YXIgTEFCRUxTID0ge1xuICBWRVJUSUNBTDoge1xuICAgIE5FWFQ6ICfihpMnLFxuICAgIFBSRVY6ICfihpEnXG4gIH0sXG4gIEhPUklaT05UQUw6IHtcbiAgICBORVhUOiAn4oaSJyxcbiAgICBQUkVWOiAn4oaQJ1xuICB9XG59O1xuXG4vKipcbiAqIE5hdmlnYXRpb24gcGx1Z2luLlxuICovXG5cbnZhciBOYXZpZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZVxuICAgKiBAY29uc3RydWN0b3JcbiAgICovXG4gIGZ1bmN0aW9uIE5hdmlnYXRpb24od3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOYXZpZ2F0aW9uKTtcblxuICAgIHZhciBhcnJvd0xhYmVscyA9IHdzSW5zdGFuY2UuaXNWZXJ0aWNhbCA/IExBQkVMUy5WRVJUSUNBTCA6IExBQkVMUy5IT1JJWk9OVEFMO1xuICAgIC8qKlxuICAgICAqIE5hdmlnYXRpb24gZWxlbWVudC5cbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGVOb2RlKCdkaXYnLCAnbmF2aWdhdGlvbicpO1xuICAgIC8qKlxuICAgICAqIE5leHQgYnV0dG9uLlxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMubmV4dCA9IE5hdmlnYXRpb24uY3JlYXRlQXJyb3coRUxFTUVOVF9JRC5ORVhULCBhcnJvd0xhYmVscy5ORVhUKTtcbiAgICAvKipcbiAgICAgKiBQcmV2IGJ1dHRvbi5cbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLnByZXYgPSBOYXZpZ2F0aW9uLmNyZWF0ZUFycm93KEVMRU1FTlRfSUQuUFJFViwgYXJyb3dMYWJlbHMuUFJFVik7XG4gICAgLyoqXG4gICAgICogQ291bnRlciBFbGVtZW50LlxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqL1xuICAgIHRoaXMuY291bnRlciA9IE5hdmlnYXRpb24uY3JlYXRlQ291bnRlcihFTEVNRU5UX0lELkNPVU5URVIsIHdzSW5zdGFuY2UpO1xuICAgIC8qKlxuICAgICAqIEB0eXBlIHtXZWJTbGlkZXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICB0aGlzLmVsLmFwcGVuZENoaWxkKHRoaXMubmV4dCk7XG4gICAgdGhpcy5lbC5hcHBlbmRDaGlsZCh0aGlzLnByZXYpO1xuICAgIHRoaXMuZWwuYXBwZW5kQ2hpbGQodGhpcy5jb3VudGVyKTtcblxuICAgIHRoaXMud3NfLmVsLmFwcGVuZENoaWxkKHRoaXMuZWwpO1xuICAgIHRoaXMuYmluZEV2ZW50c18oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBCaW5kIGFsbCBldmVudHMgZm9yIHRoZSBuYXZpZ2F0aW9uLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhOYXZpZ2F0aW9uLCBbe1xuICAgIGtleTogJ2JpbmRFdmVudHNfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gYmluZEV2ZW50c18oKSB7XG4gICAgICB0aGlzLndzXy5lbC5hZGRFdmVudExpc3RlbmVyKCd3czpzbGlkZS1jaGFuZ2UnLCB0aGlzLm9uU2xpZGVDaGFuZ2VkXy5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMubmV4dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGlja2VkXy5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMucHJldi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGlja2VkXy5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMuY291bnRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25CdXR0b25DbGlja2VkXy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjb3VudGVyIGluc2lkZSB0aGUgbmF2aWdhdGlvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IGN1cnJlbnQgQ3VycmVudCBzbGlkZSBudW1iZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBtYXggTWF4IHNsaWRlIG51bWJlci5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndXBkYXRlQ291bnRlcicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvdW50ZXIoY3VycmVudCwgbWF4KSB7XG4gICAgICBpZiAodGhpcy53c18ub3B0aW9ucy5zaG93SW5kZXgpIHtcbiAgICAgICAgdGhpcy5jb3VudGVyLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQgPSBjdXJyZW50ICsgJyAvICcgKyBtYXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvdW50ZXIudGV4dENvbnRlbnQgPSBjdXJyZW50ICsgJyAvICcgKyBtYXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJvdyB0byBuYXZpZ2F0ZS5cbiAgICAgKiBAcGFyYW0geyFTdHJpbmd9IGlkIERlc2lyZWQgSUQgZm9yIHRoZSBhcnJvdy5cbiAgICAgKiBAcGFyYW0geyFTdHJpbmd9IHRleHQgRGVzaXJlZCB0ZXh0IGZvciB0aGUgYXJyb3cuXG4gICAgICogQHJldHVybiB7RWxlbWVudH0gVGhlIGFycm93IGVsZW1lbnQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU2xpZGVDaGFuZ2VkXycsXG5cblxuICAgIC8qKlxuICAgICAqIFNsaWRlIENoYW5nZSBldmVudCBoYW5kbGVyLiBXaWxsIHVwZGF0ZSB0aGUgdGV4dCBvbiB0aGUgbmF2aWdhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2xpZGVDaGFuZ2VkXyhldmVudCkge1xuICAgICAgdGhpcy51cGRhdGVDb3VudGVyKGV2ZW50LmRldGFpbC5jdXJyZW50U2xpZGUsIGV2ZW50LmRldGFpbC5zbGlkZXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgY2xpY2tzIG9uIHRoZSBuZXh0L3ByZXYgYnV0dG9ucy5cbiAgICAgKiBAcGFyYW0ge01vdXNlRXZlbnR9IGV2ZW50XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnb25CdXR0b25DbGlja2VkXycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uQnV0dG9uQ2xpY2tlZF8oZXZlbnQpIHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzLm5leHQpIHtcbiAgICAgICAgdGhpcy53c18uZ29OZXh0KCk7XG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcy5wcmV2KSB7XG4gICAgICAgIHRoaXMud3NfLmdvUHJldigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy53c18udG9nZ2xlWm9vbSgpO1xuICAgICAgfVxuICAgIH1cbiAgfV0sIFt7XG4gICAga2V5OiAnY3JlYXRlQXJyb3cnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBcnJvdyhpZCwgdGV4dCkge1xuICAgICAgdmFyIGFycm93ID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGVOb2RlKCdhJywgaWQsIHRleHQpO1xuICAgICAgYXJyb3cuaHJlZiA9ICcjJztcbiAgICAgIGFycm93LnRpdGxlID0gJ0Fycm93IEtleXMnO1xuXG4gICAgICByZXR1cm4gYXJyb3c7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgbmF2aWdhdGlvbiBjb3VudGVyLlxuICAgICAqIEBwYXJhbSB7IVN0cmluZ30gaWQgRGVzaXJlZCBJRCBmb3IgdGhlIGNvdW50ZXIuXG4gICAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzXyBXZWJTbGlkZXMgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9IFRoZSBhcnJvdyBlbGVtZW50LlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdjcmVhdGVDb3VudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQ291bnRlcihpZCwgd3NfKSB7XG4gICAgICB2YXIgY291bnRlciA9IF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX19bXCJhXCIgLyogZGVmYXVsdCAqL10uY3JlYXRlTm9kZSgnc3BhbicsIGlkKTtcbiAgICAgIGlmICh3c18ub3B0aW9ucy5zaG93SW5kZXgpIHtcbiAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgIGxpbmsuaHJlZiA9ICcjJztcbiAgICAgICAgbGluay50aXRsZSA9ICdWaWV3IGFsbCBzbGlkZXMnO1xuICAgICAgICBjb3VudGVyLmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY291bnRlcjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gTmF2aWdhdGlvbjtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChOYXZpZ2F0aW9uKTtcblxuLyoqKi8gfSksXG4vKiAxNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygzKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cblxuXG4vKipcbiAqIFNjcm9sbCBwbHVnaW4uXG4gKi9cblxudmFyIFNjcm9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViU2xpZGVzfSB3c0luc3RhbmNlIFRoZSBXZWJTbGlkZXMgaW5zdGFuY2VcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBTY3JvbGwod3NJbnN0YW5jZSkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTY3JvbGwpO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcbiAgICAvKipcbiAgICAgKiBXaGVyZSB0aGUgc2Nyb2xsIGlzIGdvaW5nIHRvIGhhcHBlbi4gVGhlIFdlYlNsaWRlcyBlbGVtZW50LlxuICAgICAqIEB0eXBlIHtFbGVtZW50fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zY3JvbGxDb250YWluZXJfID0gd3NJbnN0YW5jZS5lbDtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIG1vdmVtZW50IGlzIGhhcHBlbmluZyB1cCBvciBkb3duLlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pc0dvaW5nVXBfID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogV2hldGhlciBtb3ZlbWVudCBpcyBoYXBwZW5pbmcgbGVmdCBvciByaWdodC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuaXNHb2luZ0xlZnRfID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogVGltZW91dCBpZCBob2xkZXIuXG4gICAgICogQHR5cGUgez9udW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnRpbWVvdXRfID0gbnVsbDtcblxuICAgIC8vIERpc2FibGluZyBmcm9tIG9wdGlvblxuICAgIGlmICghdGhpcy53c18ub3B0aW9ucy5uYXZpZ2F0ZU9uU2Nyb2xsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmlzQW55KCkpIHtcbiAgICAgIHRoaXMuc2Nyb2xsQ29udGFpbmVyXy5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIHRoaXMub25Nb3VzZVdoZWVsXy5iaW5kKHRoaXMpKTtcblxuICAgICAgaWYgKCF3c0luc3RhbmNlLmlzVmVydGljYWwpIHtcbiAgICAgICAgd3NJbnN0YW5jZS5lbC5hZGRFdmVudExpc3RlbmVyKCd3czpzbGlkZS1jaGFuZ2UnLCB0aGlzLm9uU2xpZGVDaGFuZ2VfLmJpbmQodGhpcykpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBXaGVuIHRoZSBzbGlkZXMgY2hhbmdlLCBzZXQgYW4gaW5uZXIgdGltZW91dCB0byBhdm9pZCBwcmVtYXR1cmVseVxuICAgKiBjaGFuZ2luZyB0byB0aGUgbmV4dCBzbGlkZSBhZ2Fpbi5cbiAgICogQHByaXZhdGVcbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoU2Nyb2xsLCBbe1xuICAgIGtleTogJ29uU2xpZGVDaGFuZ2VfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TbGlkZUNoYW5nZV8oKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB0aGlzLnRpbWVvdXRfID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLnRpbWVvdXRfID0gbnVsbDtcbiAgICAgIH0sIHRoaXMud3NfLm9wdGlvbnMuc2Nyb2xsV2FpdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVhY3RzIHRvIHRoZSB3aGVlbCBldmVudC4gRGV0ZWN0cyB3aGV0aGVyIGlzIGdvaW5nIHVwIG9yIGRvd24gYW5kIGRlY2lkZXNcbiAgICAgKiBpZiBpdCBuZWVkcyB0byBtb3ZlIHRoZSBzbGlkZSBiYXNlZCBvbiB0aGUgYW1vdW50IG9mIGRlbHRhLlxuICAgICAqIEBwYXJhbSB7V2hlZWxFdmVudH0gZXZlbnQgVGhlIFdoZWVsIEV2ZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uTW91c2VXaGVlbF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvbk1vdXNlV2hlZWxfKGV2ZW50KSB7XG4gICAgICBpZiAodGhpcy53c18uaXNEaXNhYmxlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMud3NfLmlzTW92aW5nIHx8IHRoaXMudGltZW91dF8pIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBGaXJlZm94IHVzZXMgbGluZXMgaW5zdGVhZCBvZiBwaXhlbHMgZm9yIGRlbHRhXG4gICAgICB2YXIgbGluZXNUb1B4ID0gZXZlbnQuZGVsdGFNb2RlICogdGhpcy53c18ub3B0aW9ucy5taW5XaGVlbERlbHRhO1xuICAgICAgdmFyIHdoZWVsRGVsdGFZID0gZXZlbnQuZGVsdGFZLFxuICAgICAgICAgIHdoZWVsRGVsdGFYID0gZXZlbnQuZGVsdGFYO1xuXG4gICAgICB2YXIgaXNWZXJ0aWNhbCA9IHRoaXMud3NfLmlzVmVydGljYWw7XG4gICAgICB2YXIgaXNIb3Jpem9udGFsTW92ZW1lbnQgPSBNYXRoLmFicyh3aGVlbERlbHRhWCkgPiBNYXRoLmFicyh3aGVlbERlbHRhWSk7XG4gICAgICB0aGlzLmlzR29pbmdVcF8gPSB3aGVlbERlbHRhWSA8IDA7XG4gICAgICB0aGlzLmlzR29pbmdMZWZ0XyA9IHdoZWVsRGVsdGFYIDwgMDtcblxuICAgICAgLy8gSWYgd2UncmUgbWFpbmx5IG1vdmluZyBob3Jpem9udGFsbHksIHByZXZlbnQgZGVmYXVsdFxuICAgICAgaWYgKGlzSG9yaXpvbnRhbE1vdmVtZW50KSB7XG4gICAgICAgIGlmICghaXNWZXJ0aWNhbCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gSWYgd2UncmUgbW92aW5nIGhvcml6b250YWxseSBidXQgdGhpcyBpcyB2ZXJ0aWNhbCwgcmV0dXJuIHRvIGF2b2lkXG4gICAgICAgICAgLy8gdW53YW50ZWQgbmF2aWdhdGlvbi5cbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKE1hdGguYWJzKHdoZWVsRGVsdGFZICsgbGluZXNUb1B4KSA+PSB0aGlzLndzXy5vcHRpb25zLm1pbldoZWVsRGVsdGEgfHwgTWF0aC5hYnMod2hlZWxEZWx0YVggKyBsaW5lc1RvUHgpID49IHRoaXMud3NfLm9wdGlvbnMubWluV2hlZWxEZWx0YSkge1xuICAgICAgICBpZiAoaXNIb3Jpem9udGFsTW92ZW1lbnQgJiYgdGhpcy5pc0dvaW5nTGVmdF8gfHwgIWlzSG9yaXpvbnRhbE1vdmVtZW50ICYmIHRoaXMuaXNHb2luZ1VwXykge1xuICAgICAgICAgIHRoaXMud3NfLmdvUHJldigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU2Nyb2xsO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFNjcm9sbCk7XG5cbi8qKiovIH0pLFxuLyogMTYgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIF9fd2VicGFja19leHBvcnRzX18sIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBoYXJtb255IGltcG9ydCAqLyB2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19tb2JpbGVfZGV0ZWN0b3JfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxudmFyIEVWRU5UUyA9IHtcbiAgdG91Y2g6IHtcbiAgICBTVEFSVDogJ3RvdWNoc3RhcnQnLFxuICAgIE1PVkU6ICd0b3VjaG1vdmUnLFxuICAgIEVORDogJ3RvdWNoZW5kJ1xuICB9LFxuICBwb2ludGVyOiB7XG4gICAgU1RBUlQ6ICdwb2ludGVyZG93bicsXG4gICAgTU9WRTogJ3BvaW50ZXJtb3ZlJyxcbiAgICBFTkQ6ICdwb2ludGVydXAnXG4gIH1cbn07XG5cbi8qKlxuICogVG91Y2ggcGx1Z2luLlxuICovXG5cbnZhciBUb3VjaCA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7V2ViU2xpZGVzfSB3c0luc3RhbmNlIFRoZSBXZWJTbGlkZXMgaW5zdGFuY2VcbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBUb3VjaCh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRvdWNoKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtXZWJTbGlkZXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICAvKipcbiAgICAgKiBTdGFydCBwb3NpdGlvbiBmb3IgdGhlIFggY29vcmRpbmF0ZS5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGFydFhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWSBjb29yZGluYXRlLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnN0YXJ0WV8gPSAwO1xuXG4gICAgLyoqXG4gICAgICogU3RhcnQgcG9zaXRpb24gZm9yIHRoZSBYIGNvb3JkLlxuICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmVuZFhfID0gMDtcblxuICAgIC8qKlxuICAgICAqIFN0YXJ0IHBvc2l0aW9uIGZvciB0aGUgWSBjb29yZC5cbiAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5lbmRZXyA9IDA7XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGlzIGVuYWJsZWQgb3Igbm90LiBPbmx5IGVuYWJsZWQgZm9yIHRvdWNoIGRldmljZXMuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLmlzRW5hYmxlZCA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciBpcyBhIGdlc3R1cmUgb3Igbm90LlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pc0dlc3R1cmUgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyBzdGFydCB0b3VjaCBldmVudCAoeCwgeSkuXG4gICAgICogQHR5cGUge2FycmF5fVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5zdGFydFRvdWNoZXMgPSBbXTtcblxuICAgIC8qKlxuICAgICAqIFN0b3JlcyBlbmQgdG91Y2ggZXZlbnQgKHgsIHkpLlxuICAgICAqIEB0eXBlIHthcnJheX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMuZW5kVG91Y2hlcyA9IFtdO1xuXG4gICAgdmFyIGV2ZW50cyA9IHZvaWQgMDtcblxuICAgIGlmIChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX21vYmlsZV9kZXRlY3Rvcl9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmlzQW55KCkpIHtcbiAgICAgIC8vIExpa2VseSBJRVxuICAgICAgaWYgKHdpbmRvdy5Qb2ludGVyRXZlbnQgJiYgKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfbW9iaWxlX2RldGVjdG9yX19bXCJhXCIgLyogZGVmYXVsdCAqL10uaXNXaW5kb3dzKCkgfHwgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19tb2JpbGVfZGV0ZWN0b3JfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5pc1dpbmRvd3NQaG9uZSgpKSkge1xuICAgICAgICBldmVudHMgPSBFVkVOVFMucG9pbnRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV2ZW50cyA9IEVWRU5UUy50b3VjaDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pc0VuYWJsZWQgPSB0cnVlO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuU1RBUlQsIHRoaXMub25TdGFydF8uYmluZCh0aGlzKSwgZmFsc2UpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudHMuTU9WRSwgdGhpcy5vbk1vdmVfLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLkVORCwgdGhpcy5vblN0b3BfLmJpbmQodGhpcyksIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RhcnQgdG91Y2ggaGFuZGxlci4gU2F2ZXMgc3RhcnRpbmcgcG9pbnRzLlxuICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudCBUaGUgVG91Y2ggZXZlbnQuXG4gICAqIEBwcml2YXRlXG4gICAqL1xuXG5cbiAgX2NyZWF0ZUNsYXNzKFRvdWNoLCBbe1xuICAgIGtleTogJ29uU3RhcnRfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TdGFydF8oZXZlbnQpIHtcbiAgICAgIGlmICh0aGlzLndzXy5pc0Rpc2FibGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5mbyA9IFRvdWNoLm5vcm1hbGl6ZUV2ZW50SW5mbyhldmVudCk7XG5cbiAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB0aGlzLnN0YXJ0WF8gPSBpbmZvLng7XG4gICAgICAgIHRoaXMuc3RhcnRZXyA9IGluZm8ueTtcbiAgICAgICAgdGhpcy5lbmRYXyA9IGluZm8ueDtcbiAgICAgICAgdGhpcy5lbmRZXyA9IGluZm8ueTtcbiAgICAgIH0gZWxzZSBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgIHRoaXMuc3RhcnRUb3VjaGVzID0gVG91Y2guZ2V0VG91Y2hDb29yZGluYXRlcyhldmVudCk7XG4gICAgICAgIHRoaXMuZW5kVG91Y2hlcyA9IHRoaXMuc3RhcnRUb3VjaGVzO1xuICAgICAgICB0aGlzLmlzR2VzdHVyZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW92ZSB0b3VjaCBoYW5kbGVyLiBTYXZlcyBlbmQgcG9pbnRzLlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IFRoZSBUb3VjaCBldmVudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvbk1vdmVfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25Nb3ZlXyhldmVudCkge1xuICAgICAgaWYgKHRoaXMud3NfLmlzRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmZvID0gVG91Y2gubm9ybWFsaXplRXZlbnRJbmZvKGV2ZW50KTtcblxuICAgICAgaWYgKHRoaXMuaXNHZXN0dXJlKSB7XG4gICAgICAgIHRoaXMuZW5kVG91Y2hlcyA9IFRvdWNoLmdldFRvdWNoQ29vcmRpbmF0ZXMoZXZlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5lbmRYXyA9IGluZm8ueDtcbiAgICAgICAgdGhpcy5lbmRZXyA9IGluZm8ueTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9wIHRvdWNoIGhhbmRsZXIuIENoZWNrcyBpZiBpdCBuZWVkcyB0byBtYWtlIGFueSBhY3Rpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU3RvcF8nLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBvblN0b3BfKCkge1xuICAgICAgaWYgKHRoaXMud3NfLmlzRGlzYWJsZWQoKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLmlzR2VzdHVyZSkge1xuICAgICAgICAvLyB2YXIgc3RhcnREaXN0YW5jZSA9IE1hdGguc3FydChNYXRoLnBvdyh0aGlzLnN0YXJ0VG91Y2hlc1swXS54IC0gdGhpcy5zdGFydFRvdWNoZXNbMV0ueCwgMikgKyBNYXRoLnBvdyh0aGlzLnN0YXJ0VG91Y2hlc1swXS55IC0gdGhpcy5zdGFydFRvdWNoZXNbMV0ueSwgMikpO1xuICAgICAgICAvLyB2YXIgZW5kRGlzdGFuY2UgPSBNYXRoLnNxcnQoTWF0aC5wb3codGhpcy5lbmRUb3VjaGVzWzBdLnggLSB0aGlzLmVuZFRvdWNoZXNbMV0ueCwgMikgKyBNYXRoLnBvdyh0aGlzLmVuZFRvdWNoZXNbMF0ueSAtIHRoaXMuZW5kVG91Y2hlc1sxXS55LCAyKSk7XG4gICAgICAgIC8vIGlmIChzdGFydERpc3RhbmNlID4gZW5kRGlzdGFuY2UpIHtcbiAgICAgICAgLy8gICAvLyBQaW5jaCBnZXN0dXJlXG4gICAgICAgIC8vICAgdGhpcy53c18udG9nZ2xlWm9vbSgpO1xuICAgICAgICAvLyB9XG4gICAgICAgIHRoaXMuaXNHZXN0dXJlID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGlmZlggPSB0aGlzLnN0YXJ0WF8gLSB0aGlzLmVuZFhfO1xuICAgICAgICB2YXIgZGlmZlkgPSB0aGlzLnN0YXJ0WV8gLSB0aGlzLmVuZFlfO1xuXG4gICAgICAgIC8vIEl0J3MgYW4gaG9yaXpvbnRhbCBkcmFnXG4gICAgICAgIGlmIChNYXRoLmFicyhkaWZmWCkgPiBNYXRoLmFicyhkaWZmWSkpIHtcbiAgICAgICAgICBpZiAoZGlmZlggPCAtdGhpcy53c18ub3B0aW9ucy5zbGlkZU9mZnNldCkge1xuICAgICAgICAgICAgdGhpcy53c18uZ29QcmV2KCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChkaWZmWCA+IHRoaXMud3NfLm9wdGlvbnMuc2xpZGVPZmZzZXQpIHtcbiAgICAgICAgICAgIHRoaXMud3NfLmdvTmV4dCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCBYLFkgY29vcmRpbmF0ZXMgZnJvbSB0b3VjaCBwb2ludGVycy5cbiAgICAgKiBAcGFyYW0ge0V2ZW50fSBldmVudFxuICAgICAqIEByZXR1cm4ge09iamVjdH1cbiAgICAgKi9cblxuICB9XSwgW3tcbiAgICBrZXk6ICdnZXRUb3VjaENvb3JkaW5hdGVzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VG91Y2hDb29yZGluYXRlcyhldmVudCkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIHg6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgeTogZXZlbnQudG91Y2hlc1swXS5jbGllbnRZXG4gICAgICB9LCB7XG4gICAgICAgIHg6IGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WCxcbiAgICAgICAgeTogZXZlbnQudG91Y2hlc1sxXS5jbGllbnRZXG4gICAgICB9XTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBOb3JtYWxpemVzIGFuIGV2ZW50IHRvIGRlYWwgd2l0aCBkaWZmZXJlbmNlcyBiZXR3ZWVuIFBvaW50ZXJFdmVudCBhbmRcbiAgICAgKiBUb3VjaEV2ZW50LlxuICAgICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50XG4gICAgICogQHJldHVybiB7T2JqZWN0fSBOb3JtYWxpc2VkIHRvdWNoIHBvaW50cy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnbm9ybWFsaXplRXZlbnRJbmZvJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gbm9ybWFsaXplRXZlbnRJbmZvKGV2ZW50KSB7XG4gICAgICB2YXIgdG91Y2hFdmVudCA9IHsgcGFnZVg6IDAsIHBhZ2VZOiAwIH07XG5cbiAgICAgIGlmICh0eXBlb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRvdWNoRXZlbnQgPSBldmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGV2ZW50Lm9yaWdpbmFsRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0b3VjaEV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudC5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgIH1cblxuICAgICAgdmFyIHggPSBldmVudC5vZmZzZXRYIHx8IGV2ZW50LmxheWVyWCB8fCB0b3VjaEV2ZW50LnBhZ2VYO1xuICAgICAgdmFyIHkgPSBldmVudC5vZmZzZXRZIHx8IGV2ZW50LmxheWVyWSB8fCB0b3VjaEV2ZW50LnBhZ2VZO1xuXG4gICAgICByZXR1cm4geyB4OiB4LCB5OiB5IH07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFRvdWNoO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFRvdWNoKTtcblxuLyoqKi8gfSksXG4vKiAxNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG4vKipcbiAqIFZpZGVvIHBsdWdpbi4gVmlkZW8gcGx1Z2luIHRoYXQgYWxsb3dzIHRvIGF1dG9wbGF5IHZpZGVvcyBvbmNlIHRoZSBzbGlkZSBnZXRzXG4gKiBhY3RpdmUuXG4gKi9cblxudmFyIFZpZGVvID0gZnVuY3Rpb24gKCkge1xuICAvKipcbiAgICogQHBhcmFtIHtXZWJTbGlkZXN9IHdzSW5zdGFuY2UgVGhlIFdlYlNsaWRlcyBpbnN0YW5jZS5cbiAgICogQGNvbnN0cnVjdG9yXG4gICAqL1xuICBmdW5jdGlvbiBWaWRlbyh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZpZGVvKTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtXZWJTbGlkZXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLndzXyA9IHdzSW5zdGFuY2U7XG5cbiAgICB2YXIgdmlkZW9zID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS50b0FycmF5KHRoaXMud3NfLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoJ3ZpZGVvJykpO1xuXG4gICAgaWYgKHZpZGVvcy5sZW5ndGgpIHtcbiAgICAgIHZpZGVvcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICBpZiAoIXZpZGVvLmhhc0F0dHJpYnV0ZSgnYXV0b3BsYXknKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZGVvLnJlbW92ZUF0dHJpYnV0ZSgnYXV0b3BsYXknKTtcbiAgICAgICAgdmlkZW8ucGF1c2UoKTtcbiAgICAgICAgdmlkZW8uY3VycmVudFRpbWUgPSAwO1xuXG4gICAgICAgIHZhciBfU2xpZGUkZ2V0U2VjdGlvbkZyb20gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfX1tcImJcIiAvKiBkZWZhdWx0ICovXS5nZXRTZWN0aW9uRnJvbUVsKHZpZGVvKSxcbiAgICAgICAgICAgIGkgPSBfU2xpZGUkZ2V0U2VjdGlvbkZyb20uaTtcblxuICAgICAgICB2YXIgc2xpZGUgPSB3c0luc3RhbmNlLnNsaWRlc1tpIC0gMV07XG5cbiAgICAgICAgc2xpZGUudmlkZW8gPSB2aWRlbztcblxuICAgICAgICBzbGlkZS5lbC5hZGRFdmVudExpc3RlbmVyKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbW9kdWxlc19zbGlkZV9fW1wiYVwiIC8qIEV2ZW50cyAqL10uRU5BQkxFLCBWaWRlby5vblNlY3Rpb25FbmFibGVkKTtcbiAgICAgICAgc2xpZGUuZWwuYWRkRXZlbnRMaXN0ZW5lcihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfX1tcImFcIiAvKiBFdmVudHMgKi9dLkRJU0FCTEUsIFZpZGVvLm9uU2VjdGlvbkRpc2FibGVkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPbiBTZWN0aW9uIGVuYWJsZSBob29rLiBXaWxsIHBsYXkgdGhlIHZpZGVvLlxuICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudFxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhWaWRlbywgbnVsbCwgW3tcbiAgICBrZXk6ICdvblNlY3Rpb25FbmFibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWN0aW9uRW5hYmxlZChldmVudCkge1xuICAgICAgZXZlbnQuZGV0YWlsLnNsaWRlLnZpZGVvLnBsYXkoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPbiBTZWN0aW9uIGVuYWJsZSBob29rLiBXaWxsIHBhdXNlIHRoZSB2aWRlby5cbiAgICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudFxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvblNlY3Rpb25EaXNhYmxlZCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2VjdGlvbkRpc2FibGVkKGV2ZW50KSB7XG4gICAgICBldmVudC5kZXRhaWwuc2xpZGUudmlkZW8ucGF1c2UoKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gVmlkZW87XG59KCk7XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoVmlkZW8pO1xuXG4vKioqLyB9KSxcbi8qIDE4ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbW9kdWxlc19zbGlkZV9fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbi8qIGdsb2JhbCBZVCAqL1xuXG5cblxuLyoqXG4gKiBQbGF5ZXIgd3JhcHBlciBhcm91bmQgdGhlIFlUIHBsYXllci4gVGhpcyBpcyBtb3N0bHkgdG8gZ2V0IGFyb3VuZCB0aGUgZXZlbnRcbiAqIGluIHdoaWNoIHdlIG5lZWQgdG8gcGxheSBhIHZpZGVvIHdoaWNoIHBsYXllciBpc24ndCByZWFkeSB5ZXQuXG4gKi9cblxudmFyIFBsYXllciA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RWxlbWVudH0gZWxcbiAgICovXG4gIGZ1bmN0aW9uIFBsYXllcihlbCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBQbGF5ZXIpO1xuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgUGxheWVyIGlzIHJlYWR5IG9yIG5vdC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLnJlYWR5ID0gZmFsc2U7XG4gICAgLyoqXG4gICAgICogUmVhZHkgY2FsbGJhY2suXG4gICAgICogQHR5cGUgez9mdW5jdGlvbn1cbiAgICAgKi9cbiAgICB0aGlzLm9uUmVhZHlDYiA9IG51bGw7XG4gICAgLyoqXG4gICAgICogU2xpZGUgZWxlbWVudCBpbiB3aGljaCB0aGUgdmlkZW8gaXMgbG9jYXRlZC5cbiAgICAgKiBAdHlwZSB7Tm9kZX1cbiAgICAgKi9cbiAgICB0aGlzLnNsaWRlID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tb2R1bGVzX3NsaWRlX19bXCJiXCIgLyogZGVmYXVsdCAqL10uZ2V0U2VjdGlvbkZyb21FbChlbCkuc2VjdGlvbjtcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIGl0IHNob3VsZCBhdXRvcGxheSBvbiBsb2FkIG9yIG5vdC5cbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmF1dG9wbGF5ID0gdHlwZW9mIGVsLmRhdGFzZXQuYXV0b3BsYXkgIT09ICd1bmRlZmluZWQnO1xuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHZpZGVvIHNob3VsZCBiZSBtdXRlZCBvciBub3QuXG4gICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICovXG4gICAgdGhpcy5pc011dGVkID0gdHlwZW9mIGVsLmRhdGFzZXQubXV0ZSAhPT0gJ3VuZGVmaW5lZCc7XG5cbiAgICAvKipcbiAgICAgKiBPcHRpb25zIHdpdGggd2hpY2ggdGhlIHBsYXllciBpcyBjcmVhdGVkLlxuICAgICAqIEB0eXBlIHtPYmplY3R9XG4gICAgICovXG4gICAgdGhpcy5vcHRpb25zID0ge1xuICAgICAgdmlkZW9JZDogZWwuZGF0YXNldC55b3V0dWJlSWQsXG4gICAgICBwbGF5ZXJWYXJzOiB0aGlzLmdldFBsYXllclZhcnMoZWwpLFxuICAgICAgZXZlbnRzOiB7XG4gICAgICAgIG9uUmVhZHk6IHRoaXMub25QbGF5ZXJSZWFkeS5iaW5kKHRoaXMpXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBpZnJhbWUgaW4gd2hpY2ggdGhlIHZpZGVvIGlzIGxvYWRlZC5cbiAgICAgKiBAdHlwZSB7RWxlbWVudH1cbiAgICAgKi9cbiAgICB0aGlzLmVsID0gZWw7XG4gICAgLyoqXG4gICAgICogVGltZW91dCBpZC5cbiAgICAgKiBAdHlwZSB7P251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnRpbWVvdXQgPSBudWxsO1xuXG4gICAgdGhpcy5jcmVhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXN0cm95cyB0aGUgaWZyYW1lLiBTYXZlcyB0aGUgY3VycmVudCB0aW1lIGluIGNhc2UgaXQgZ2V0cyByZXN0b3JlZC5cbiAgICovXG5cblxuICBfY3JlYXRlQ2xhc3MoUGxheWVyLCBbe1xuICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgdGhpcy5jdXJyZW50VGltZSA9IHRoaXMucGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XG4gICAgICB0aGlzLnBsYXllci5kZXN0cm95KCk7XG4gICAgICB0aGlzLnBsYXllciA9IG51bGw7XG4gICAgICB0aGlzLmVsID0gdGhpcy5zbGlkZS5xdWVyeVNlbGVjdG9yKCdbZGF0YS15b3V0dWJlXScpO1xuICAgICAgdGhpcy5yZWFkeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIHBsYXllci5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnY3JlYXRlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlKCkge1xuICAgICAgdGhpcy5wbGF5ZXIgPSBuZXcgWVQuUGxheWVyKHRoaXMuZWwsIHRoaXMub3B0aW9ucyk7XG4gICAgICB0aGlzLmVsID0gdGhpcy5wbGF5ZXIuZ2V0SWZyYW1lKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheWVyIHJlYWR5IGNhbGxiYWNrLiBXaWxsIHBsYXkgdGhlIHZpZGVvIGlmIGl0IHdhcyBpbnRlbmRlZCB0byBiZSBwbGF5ZWRcbiAgICAgKiBhbmQgd2lsbCBhbHNvIGNhbGwgYW55IHBlbmRpbmcgY2FsbGJhY2tzLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvblBsYXllclJlYWR5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25QbGF5ZXJSZWFkeSgpIHtcbiAgICAgIHRoaXMucmVhZHkgPSB0cnVlO1xuXG4gICAgICAvLyBSZXN0b3JpbmcgdGhlIGN1cnJlbnQgdGltZSBpZiBzYXZlZFxuICAgICAgaWYgKHRoaXMuY3VycmVudFRpbWUpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIuc2Vla1RvKHRoaXMuY3VycmVudFRpbWUsIHRydWUpO1xuICAgICAgICB0aGlzLnBsYXllci5wYXVzZVZpZGVvKCk7XG4gICAgICAgIHRoaXMuY3VycmVudFRpbWUgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy50aW1lb3V0ICYmIHRoaXMucGxheWVyLmdldFBsYXllclN0YXRlKCkgIT09IDEpIHtcbiAgICAgICAgdGhpcy5wbGF5KCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLm9uUmVhZHlDYikge1xuICAgICAgICB0aGlzLm9uUmVhZHlDYigpO1xuICAgICAgICB0aGlzLm9uUmVhZHlDYiA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGxheXMgdGhlIHZpZGVvLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwbGF5JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcGxheSgpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIGlmICh0aGlzLnJlYWR5KSB7XG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzLnRpbWVvdXQgPSBudWxsO1xuICAgICAgICB9LCAxMDAwKTtcblxuICAgICAgICBpZiAodGhpcy5pc011dGVkKSB7XG4gICAgICAgICAgdGhpcy5wbGF5ZXIubXV0ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMucGxheWVyLnVuTXV0ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wbGF5ZXIucGxheVZpZGVvKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uUmVhZHlDYiA9IHRoaXMucGxheTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXVzZSBwbGF5aW5nIHRoZSB2aWRlbyBpZiBpdCdzIGFscmVhZHkgcGxheWluZy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAncGF1c2UnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBwYXVzZSgpIHtcbiAgICAgIGlmICh0aGlzLnBsYXllciAmJiB0aGlzLnBsYXllci5wYXVzZVZpZGVvICYmIHRoaXMucGxheWVyLmdldFBsYXllclN0YXRlKCkgPT09IDEpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIucGF1c2VWaWRlbygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyB0aGUgZWxlbWVudCB0byBoYXZlIHRoZSBwcm9wZXIgdmFyaWFibGVzLlxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gUGxheWVyIHZhcmlhYmxlcy5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnZ2V0UGxheWVyVmFycycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFBsYXllclZhcnMoZWxlbWVudCkge1xuICAgICAgdmFyIHZhcnMgPSB7XG4gICAgICAgIG1vZGVzdGJyYW5kaW5nOiAxLFxuICAgICAgICByZWw6IDAsXG4gICAgICAgIG9yaWdpbjogd2luZG93LmxvY2F0aW9uLm9yaWdpblxuICAgICAgfTtcblxuICAgICAgaWYgKHRoaXMuc2xpZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdmdWxsc2NyZWVuJykpIHtcbiAgICAgICAgLy8gRGlzYWJsaW5nIGtleWJvYXJkIGludGVyYWN0aW9uIGZvciBmdWxsc2NyZWVudmlkZW9zXG4gICAgICAgIHZhcnMuZGlzYWJsZWtiID0gMTtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBlbGVtZW50LmRhdGFzZXQubm9Db250cm9scyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFycy5jb250cm9scyA9IDA7XG4gICAgICAgIHZhcnMuc2hvd2luZm8gPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGVsZW1lbnQuZGF0YXNldC5sb29wICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXJzLmxvb3AgPSAxO1xuICAgICAgICB2YXJzLnBsYXlsaXN0ID0gZWxlbWVudC5kYXRhc2V0LnlvdXR1YmVJZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhcnM7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFBsYXllcjtcbn0oKTtcblxuLyoqXG4gKiBWaWRlbyBwbHVnaW4uXG4gKi9cblxuXG52YXIgWW91VHViZSA9IGZ1bmN0aW9uICgpIHtcbiAgLyoqXG4gICAqIEdyaWQgcGx1Z2luIHRoYXQgc2hvd3MgYSBncmlkIG9uIHRvcCBvZiB0aGUgV2ViU2xpZGVzIGZvciBlYXN5IHByb3RvdHlwaW5nLlxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXG4gICAqL1xuICBmdW5jdGlvbiBZb3VUdWJlKHdzSW5zdGFuY2UpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgWW91VHViZSk7XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7V2ViU2xpZGVzfVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy53c18gPSB3c0luc3RhbmNlO1xuXG4gICAgdGhpcy52aWRlb3MgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnRvQXJyYXkodGhpcy53c18uZWwucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEteW91dHViZV0nKSk7XG5cbiAgICBpZiAodGhpcy52aWRlb3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLmluamVjdCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBPbmNlIHRoZSBZb3VUdWJlIEFQSSBpcyByZWFkeSB0aGlzIGdldHMgY2FsbGVkIHNvIHdlIGNhbiBzdGFydCB0aGUgdmlkZW9zLlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhZb3VUdWJlLCBbe1xuICAgIGtleTogJ29uWVRSZWFkeScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uWVRSZWFkeSgpIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB0aGlzLnZpZGVvcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWRlbykge1xuICAgICAgICB2YXIgcGxheWVyID0gbmV3IFBsYXllcih2aWRlbyk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB2aWRlby5kYXRhc2V0LmF1dG9wbGF5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgIHZhciBfU2xpZGUkZ2V0U2VjdGlvbkZyb20gPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfX1tcImJcIiAvKiBkZWZhdWx0ICovXS5nZXRTZWN0aW9uRnJvbUVsKHBsYXllci5lbCksXG4gICAgICAgICAgICAgIGkgPSBfU2xpZGUkZ2V0U2VjdGlvbkZyb20uaTtcblxuICAgICAgICAgIHZhciBzbGlkZSA9IF90aGlzMi53c18uc2xpZGVzW2kgLSAxXTtcblxuICAgICAgICAgIHNsaWRlLnBsYXllciA9IHBsYXllcjtcblxuICAgICAgICAgIHNsaWRlLmVsLmFkZEV2ZW50TGlzdGVuZXIoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tb2R1bGVzX3NsaWRlX19bXCJhXCIgLyogRXZlbnRzICovXS5FTkFCTEUsIFlvdVR1YmUub25TbGlkZUV2ZW50KTtcbiAgICAgICAgICBzbGlkZS5lbC5hZGRFdmVudExpc3RlbmVyKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbW9kdWxlc19zbGlkZV9fW1wiYVwiIC8qIEV2ZW50cyAqL10uRElTQUJMRSwgWW91VHViZS5vblNsaWRlRXZlbnQpO1xuICAgICAgICAgIHNsaWRlLmVsLmFkZEV2ZW50TGlzdGVuZXIoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tb2R1bGVzX3NsaWRlX19bXCJhXCIgLyogRXZlbnRzICovXS5FTlRFUiwgWW91VHViZS5vblNsaWRlRXZlbnQpO1xuICAgICAgICAgIHNsaWRlLmVsLmFkZEV2ZW50TGlzdGVuZXIoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tb2R1bGVzX3NsaWRlX19bXCJhXCIgLyogRXZlbnRzICovXS5MRUFWRSwgWW91VHViZS5vblNsaWRlRXZlbnQpO1xuXG4gICAgICAgICAgaWYgKF90aGlzMi53c18uY3VycmVudFNsaWRlXyA9PT0gc2xpZGUpIHtcbiAgICAgICAgICAgIFlvdVR1YmUub25TZWN0aW9uRW5hYmxlZChzbGlkZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbmplY3RzIHRoZSBZb3VUdWJlIGlGcmFtZSBBUEkgaW50byB0aGUgcGFnZS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAnaW5qZWN0JyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gaW5qZWN0KCkge1xuICAgICAgd2luZG93Lm9uWW91VHViZUlmcmFtZUFQSVJlYWR5ID0gdGhpcy5vbllUUmVhZHkuYmluZCh0aGlzKTtcbiAgICAgIHZhciB0YWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICAgIHRhZy5zcmMgPSAnaHR0cHM6Ly93d3cueW91dHViZS5jb20vaWZyYW1lX2FwaSc7XG4gICAgICB2YXIgZmlyc3RTY3JpcHRUYWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF07XG4gICAgICBmaXJzdFNjcmlwdFRhZy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0YWcsIGZpcnN0U2NyaXB0VGFnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZWFjdHMgdG8gYW55IGV2ZW50IG9uIHRoZSBzbGlkZS5cbiAgICAgKiBAcGFyYW0ge0N1c3RvbUV2ZW50fSBldmVudFxuICAgICAqL1xuXG4gIH1dLCBbe1xuICAgIGtleTogJ29uU2xpZGVFdmVudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2xpZGVFdmVudChldmVudCkge1xuICAgICAgdmFyIHNsaWRlID0gZXZlbnQuZGV0YWlsLnNsaWRlO1xuXG4gICAgICBzd2l0Y2ggKGV2ZW50LnR5cGUpIHtcbiAgICAgICAgY2FzZSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfX1tcImFcIiAvKiBFdmVudHMgKi9dLkVOQUJMRTpcbiAgICAgICAgICBZb3VUdWJlLm9uU2VjdGlvbkVuYWJsZWQoc2xpZGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fbW9kdWxlc19zbGlkZV9fW1wiYVwiIC8qIEV2ZW50cyAqL10uRElTQUJMRTpcbiAgICAgICAgICBZb3VUdWJlLm9uU2VjdGlvbkRpc2FibGVkKHNsaWRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX21vZHVsZXNfc2xpZGVfX1tcImFcIiAvKiBFdmVudHMgKi9dLkxFQVZFOlxuICAgICAgICAgIHNsaWRlLnBsYXllci5kZXN0cm95KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19tb2R1bGVzX3NsaWRlX19bXCJhXCIgLyogRXZlbnRzICovXS5FTlRFUjpcbiAgICAgICAgICBzbGlkZS5wbGF5ZXIuY3JlYXRlKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT24gU2VjdGlvbiBlbmFibGUgaG9vay4gV2lsbCBwbGF5IHRoZSB2aWRlby5cbiAgICAgKiBAcGFyYW0ge1NsaWRlfSBzbGlkZVxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdvblNlY3Rpb25FbmFibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWN0aW9uRW5hYmxlZChzbGlkZSkge1xuICAgICAgaWYgKHNsaWRlLnBsYXllci5hdXRvcGxheSkge1xuICAgICAgICBzbGlkZS5wbGF5ZXIucGxheSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9uIFNlY3Rpb24gZW5hYmxlIGhvb2suIFdpbGwgcGF1c2UgdGhlIHZpZGVvLlxuICAgICAqIEBwYXJhbSB7U2xpZGV9IHNsaWRlXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ29uU2VjdGlvbkRpc2FibGVkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gb25TZWN0aW9uRGlzYWJsZWQoc2xpZGUpIHtcbiAgICAgIHNsaWRlLnBsYXllci5wYXVzZSgpO1xuICAgIH1cbiAgfV0pO1xuXG4gIHJldHVybiBZb3VUdWJlO1xufSgpO1xuXG4vKiBoYXJtb255IGRlZmF1bHQgZXhwb3J0ICovIF9fd2VicGFja19leHBvcnRzX19bXCJhXCJdID0gKFlvdVR1YmUpO1xuXG4vKioqLyB9KSxcbi8qIDE5ICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fdXRpbHNfZG9tX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuLyogaGFybW9ueSBpbXBvcnQgKi8gdmFyIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fdXRpbHNfa2V5c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3V0aWxzX3Njcm9sbF90b19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbi8qIGhhcm1vbnkgaW1wb3J0ICovIHZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX21vZHVsZXNfc2xpZGVfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5cblxuXG5cblxudmFyIENMQVNTRVMgPSB7XG4gIFpPT006ICdncmlkJyxcbiAgRElWOiAnY29sdW1uJyxcbiAgV1JBUDogJ3dyYXAtem9vbScsXG4gIFdSQVBfQ09OVEFJTkVSOiAnd3JhcCcsXG4gIENVUlJFTlQ6ICdjdXJyZW50JyxcbiAgU0xJREU6ICdzbGlkZScsXG4gIFpPT01fRU5BQkxFRDogJ3dzLXJlYWR5LXpvb20nXG59O1xuXG52YXIgSUQgPSAnd2Vic2xpZGVzLXpvb21lZCc7XG5cbi8qKlxuICogWm9vbSBwbHVnaW4uXG4gKi9cblxudmFyIFpvb20gPSBmdW5jdGlvbiAoKSB7XG4gIC8qKlxuICAgKiBAcGFyYW0ge1dlYlNsaWRlc30gd3NJbnN0YW5jZSBUaGUgV2ViU2xpZGVzIGluc3RhbmNlXG4gICAqIEBjb25zdHJ1Y3RvclxuICAgKi9cbiAgZnVuY3Rpb24gWm9vbSh3c0luc3RhbmNlKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFpvb20pO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge1dlYlNsaWRlc31cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHRoaXMud3NfID0gd3NJbnN0YW5jZTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtXZWJTbGlkZXN9XG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICB0aGlzLnp3c18gPSB7fTtcblxuICAgIC8qKlxuICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgdGhpcy5pc1pvb21lZF8gPSBmYWxzZTtcblxuICAgIHRoaXMucHJlQnVpbGRab29tXygpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMub25LZXlEb3duLmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIE9uIGtleSBkb3duIGhhbmRsZXIuIFdpbGwgZGVjaWRlIGlmIFpvb20gaW4gb3Igb3V0XG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEtleSBkb3duIGV2ZW50LlxuICAgKi9cblxuXG4gIF9jcmVhdGVDbGFzcyhab29tLCBbe1xuICAgIGtleTogJ29uS2V5RG93bicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICAgICAgaWYgKCF0aGlzLmlzWm9vbWVkXyAmJiBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfX3V0aWxzX2tleXNfX1tcImFcIiAvKiBkZWZhdWx0ICovXS5NSU5VUy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA9PT0gZXZlbnQud2hpY2g7XG4gICAgICB9KSkge1xuICAgICAgICB0aGlzLnpvb21JbigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzWm9vbWVkXyAmJiAoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uUExVUy5zb21lKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA9PT0gZXZlbnQud2hpY2g7XG4gICAgICB9KSB8fCBldmVudC53aGljaCA9PT0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX191dGlsc19rZXlzX19bXCJhXCIgLyogZGVmYXVsdCAqL10uRVNDQVBFKSkge1xuICAgICAgICB0aGlzLnpvb21PdXQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHpvb20gc3RydWN0dXJlLCBzY2FsZXMgdGhlIHNsaWRlcyBhbmQgdXNlcyBhIGdyaWQgbGF5b3V0XG4gICAgICogdG8gc2hvdyB0aGVtLlxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdwcmVCdWlsZFpvb21fJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gcHJlQnVpbGRab29tXygpIHtcbiAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgIC8vIENsb25lICN3ZWJzbGlkZXMgZWxlbWVudFxuICAgICAgdGhpcy56d3NfLmVsID0gdGhpcy53c18uZWwuY2xvbmVOb2RlKCk7XG4gICAgICB0aGlzLnp3c18uZWwuaWQgPSBJRDtcbiAgICAgIHRoaXMuendzXy53cmFwID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGVOb2RlKCdkaXYnKTtcbiAgICAgIHRoaXMuendzXy53cmFwLmNsYXNzTmFtZSA9IENMQVNTRVMuV1JBUF9DT05UQUlORVI7XG4gICAgICB0aGlzLnp3c18uZWwuYXBwZW5kQ2hpbGQodGhpcy56d3NfLndyYXApO1xuICAgICAgdGhpcy56d3NfLmdyaWQgPSBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmNyZWF0ZU5vZGUoJ2RpdicpO1xuICAgICAgdGhpcy56d3NfLmdyaWQuY2xhc3NOYW1lID0gQ0xBU1NFUy5aT09NO1xuICAgICAgdGhpcy56d3NfLndyYXAuYXBwZW5kQ2hpbGQodGhpcy56d3NfLmdyaWQpO1xuXG4gICAgICB0aGlzLnp3c18uZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy50b2dnbGVab29tKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gQ2xvbmUgdGhlIHNsaWRlc1xuICAgICAgdGhpcy56d3NfLnNsaWRlcyA9IFtdLm1hcC5jYWxsKHRoaXMud3NfLnNsaWRlcywgZnVuY3Rpb24gKHNsaWRlLCBpKSB7XG4gICAgICAgIHZhciBzXyA9IHNsaWRlLmVsLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgX3RoaXMuendzXy5ncmlkLmFwcGVuZENoaWxkKHNfKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzNfX21vZHVsZXNfc2xpZGVfX1tcImJcIiAvKiBkZWZhdWx0ICovXShzXywgaSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5kaXNhYmxlKCk7XG4gICAgICBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLmFmdGVyKHRoaXMuendzXy5lbCwgdGhpcy53c18uZWwpO1xuXG4gICAgICAvLyBDcmVhdGVzIHRoZSBjb250YWluZXIgZm9yIGVhY2ggc2xpZGVcbiAgICAgIHRoaXMuendzXy5zbGlkZXMuZm9yRWFjaChmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICByZXR1cm4gX3RoaXMuY3JlYXRlU2xpZGVCbG9ja18oZWxlbSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYmxvY2sgc3RydWN0dXJlIGFyb3VuZCB0aGUgc2xpZGUuXG4gICAgICogQHBhcmFtIHtFbGVtZW50fSBlbGVtIHNsaWRlIGVsZW1lbnQuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ2NyZWF0ZVNsaWRlQmxvY2tfJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU2xpZGVCbG9ja18oZWxlbSkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIC8vIFdyYXBzIHRoZSBzbGlkZSBhcm91bmQgYSBjb250YWluZXJcbiAgICAgIHZhciB3cmFwID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS53cmFwKGVsZW0uZWwsICdkaXYnKTtcbiAgICAgIHdyYXAuY2xhc3NOYW1lID0gQ0xBU1NFUy5XUkFQO1xuICAgICAgd3JhcC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ3pvb21lZC0nICsgZWxlbS5lbC5nZXRBdHRyaWJ1dGUoJ2lkJykpO1xuXG4gICAgICAvLyBTbGlkZSBjb250YWluZXIsIG5lZWQgZHVlIHRvIGZsZXhib3ggc3R5bGVzXG4gICAgICB2YXIgZGl2ID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS53cmFwKHdyYXAsICdkaXYnKTtcbiAgICAgIGRpdi5jbGFzc05hbWUgPSBDTEFTU0VTLkRJVjtcblxuICAgICAgLy8gQWRkaW5nIHNvbWUgbGF5ZXIgZm9yIGNvbnRyb2xsaW5nIGNsaWNrIGV2ZW50c1xuICAgICAgdmFyIGRpdkxheWVyID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGVOb2RlKCdkaXYnKTtcbiAgICAgIGRpdkxheWVyLmNsYXNzTmFtZSA9ICd6b29tLWxheWVyJztcbiAgICAgIGRpdkxheWVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgX3RoaXMyLnpvb21PdXQoKTtcbiAgICAgICAgX3RoaXMyLndzXy5nb1RvU2xpZGUoZWxlbS5pKTtcbiAgICAgIH0pO1xuICAgICAgd3JhcC5hcHBlbmRDaGlsZChkaXZMYXllcik7XG5cbiAgICAgIC8vIFNsaWRlIG51bWJlclxuICAgICAgdmFyIHNsaWRlTnVtYmVyID0gX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX191dGlsc19kb21fX1tcImFcIiAvKiBkZWZhdWx0ICovXS5jcmVhdGVOb2RlKCdwJywgJycsICcnICsgKGVsZW0uaSArIDEpKTtcbiAgICAgIHNsaWRlTnVtYmVyLmNsYXNzTmFtZSA9ICd0ZXh0LXNsaWRlLW51bWJlcic7XG4gICAgICBkaXYuYXBwZW5kQ2hpbGQoc2xpZGVOdW1iZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgem9vbS5cbiAgICAgKi9cblxuICB9LCB7XG4gICAga2V5OiAndG9nZ2xlWm9vbScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZVpvb20oKSB7XG4gICAgICBpZiAodGhpcy5pc1pvb21lZF8pIHtcbiAgICAgICAgdGhpcy56b29tT3V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnpvb21JbigpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gSW4gdGhlIHNsaWRlciwgc2NhbGVzIHRoZSBzbGlkZXMgYW5kIHVzZXMgYSBncmlkIGxheW91dCB0byBzaG93IHRoZW0uXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3pvb21JbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHpvb21JbigpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICBpZiAoIXRoaXMud3NfLm9wdGlvbnMuc2hvd0luZGV4KSByZXR1cm47XG4gICAgICB0aGlzLmVuYWJsZSgpO1xuICAgICAgdmFyIGN1cnJlbnRJZCA9IHRoaXMud3NfLmN1cnJlbnRTbGlkZV8uZWwuaWQ7XG4gICAgICB2YXIgem9vbWVkQ3VycmVudCA9IHRoaXMuendzXy5lbC5xdWVyeVNlbGVjdG9yKCcuJyArIENMQVNTRVMuV1JBUCArICcuJyArIENMQVNTRVMuQ1VSUkVOVCk7XG5cbiAgICAgIGlmICh6b29tZWRDdXJyZW50KSB7XG4gICAgICAgIHpvb21lZEN1cnJlbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU0VTLkNVUlJFTlQpO1xuICAgICAgfVxuXG4gICAgICB2YXIgYWN0dWFsQ3VycmVudCA9IHRoaXMuendzXy5lbC5xdWVyeVNlbGVjdG9yKCcjem9vbWVkLScgKyBjdXJyZW50SWQpO1xuICAgICAgYWN0dWFsQ3VycmVudC5jbGFzc0xpc3QuYWRkKENMQVNTRVMuQ1VSUkVOVCk7XG5cbiAgICAgIHRoaXMuaXNab29tZWRfID0gdHJ1ZTtcbiAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKENMQVNTRVMuWk9PTV9FTkFCTEVEKTtcblxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzMy53c18uZGlzYWJsZSgpO1xuICAgICAgICBfdGhpczMuendzXy5lbC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICB2YXIgd3JhcENTUyA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKF90aGlzMy56d3NfLmdyaWQpO1xuICAgICAgICB2YXIgc2Nyb2xsaW5nRWxlbWVudCA9IGRvY3VtZW50LmJvZHk7XG5cbiAgICAgICAgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fdXRpbHNfc2Nyb2xsX3RvX19bXCJhXCIgLyogZGVmYXVsdCAqL10pKGFjdHVhbEN1cnJlbnQucGFyZW50Tm9kZS5vZmZzZXRUb3AgKyBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3V0aWxzX2RvbV9fW1wiYVwiIC8qIGRlZmF1bHQgKi9dLnBhcnNlU2l6ZSh3cmFwQ1NTLnBhZGRpbmdUb3ApLCA1MCwgZnVuY3Rpb24gKCkge30sIHNjcm9sbGluZ0VsZW1lbnQpO1xuICAgICAgfSwgNTApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gT3V0IHRoZSBzbGlkZXIsIHJlbW92ZSBzY2FsZSBmcm9tIHRoZSBzbGlkZXMuXG4gICAgICovXG5cbiAgfSwge1xuICAgIGtleTogJ3pvb21PdXQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiB6b29tT3V0KCkge1xuICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgIGlmICghdGhpcy53c18ub3B0aW9ucy5zaG93SW5kZXgpIHJldHVybjtcbiAgICAgIHRoaXMuendzXy5lbC5jbGFzc0xpc3QucmVtb3ZlKCdpbicpO1xuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgX3RoaXM0LndzXy5lbmFibGUoKTtcbiAgICAgICAgX3RoaXM0LmRpc2FibGUoKTtcbiAgICAgICAgX3RoaXM0LmlzWm9vbWVkXyA9IGZhbHNlO1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShDTEFTU0VTLlpPT01fRU5BQkxFRCk7XG4gICAgICB9LCA0MDApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSB6b29tIGNvbnRhaW5lclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdkaXNhYmxlJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzYWJsZSgpIHtcbiAgICAgIHRoaXMuendzXy5lbC5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSB6b29tIGNvbnRhaW5lclxuICAgICAqL1xuXG4gIH0sIHtcbiAgICBrZXk6ICdlbmFibGUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBlbmFibGUoKSB7XG4gICAgICB0aGlzLnp3c18uZWwuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gWm9vbTtcbn0oKTtcblxuLyogaGFybW9ueSBkZWZhdWx0IGV4cG9ydCAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiYVwiXSA9IChab29tKTtcblxuLyoqKi8gfSksXG4vKiAyMCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgX193ZWJwYWNrX2V4cG9ydHNfXywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qKlxuICogU3dpbmcgZWFzaW5nIGZ1bmN0aW9uLlxuICogQHBhcmFtIHtudW1iZXJ9IHAgVGhlIHBlcmNlbnRhZ2Ugb2YgdGltZSB0aGF0IGhhcyBwYXNzZWQuXG4gKiBAcmV0dXJuIHtudW1iZXJ9XG4gKi9cbmZ1bmN0aW9uIHN3aW5nKHApIHtcbiAgcmV0dXJuIDAuNSAtIE1hdGguY29zKHAgKiBNYXRoLlBJKSAvIDI7XG59XG5cbi8qIGhhcm1vbnkgZGVmYXVsdCBleHBvcnQgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcImFcIl0gPSAoeyBzd2luZzogc3dpbmcgfSk7XG5cbi8qKiovIH0pLFxuLyogMjEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuLyoqKi8gfSlcbi8qKioqKiovIF0pOyIsIihmdW5jdGlvbiAoKSB7XHJcblx0ZnVuY3Rpb24gZm9yRWFjaEVsZW1lbnQocGFycmF5LCBjYWxsYmFjaykge1xyXG5cdFx0cGFycmF5ICYmIEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwocGFycmF5LCBjYWxsYmFjayk7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvcGVuQ29kZXBlbih0aXRsZSwgaHRtbENvZGUsIGNzc0NvZGUsIGpzQ29kZSkge1xyXG5cdFx0dmFyIGZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtW2FjdGlvbj1cImh0dHBzOi8vY29kZXBlbi5pby9wZW4vZGVmaW5lXCJdJyk7XHJcblx0XHRpZiAoZm9ybSkge1xyXG5cdFx0XHRmb3JtLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9ZGF0YV0nKS5zZXRBdHRyaWJ1dGUoJ3ZhbHVlJywgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdHRpdGxlOiB0aXRsZSxcclxuXHRcdFx0XHRodG1sOiBodG1sQ29kZSxcclxuXHRcdFx0XHRjc3M6IGNzc0NvZGUsXHJcblx0XHRcdFx0anM6IGpzQ29kZVxyXG5cdFx0XHR9KSk7XHJcblx0XHRcdGZvcm0uc3VibWl0KCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBvcGVuQ29kZXBlbk5TKGlkKSB7XHJcblx0XHR2YXIgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCd0ZW1wbGF0ZSMnICsgaWQpO1xyXG5cclxuXHRcdGlmICghdGVtcGxhdGUpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgdmFyIGNsb25lQ29udGVudCA9IGRvY3VtZW50LmltcG9ydE5vZGUodGVtcGxhdGUuY29udGVudCwgdHJ1ZSk7XHJcblxyXG5cdFx0dmFyIGpzRWxzID0gY2xvbmVDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdC5jb2RlcGVuLWpzJyk7XHJcbiAgICAgICAgdmFyIGNzc0VscyA9IGNsb25lQ29udGVudC5xdWVyeVNlbGVjdG9yQWxsKCdzdHlsZS5jb2RlcGVuLWNzcycpO1xyXG5cclxuICAgICAgICB2YXIganMgPSAnJywgY3NzID0gJycsIGh0bWwgPSAnJztcclxuXHJcbiAgICAgICAgZm9yRWFjaEVsZW1lbnQoanNFbHMsIGZ1bmN0aW9uIChzY3JpcHQpIHtcclxuXHRcdFx0anMgKz0gc2NyaXB0LmlubmVySFRNTCArICdcXG4nO1xyXG5cdFx0XHRjbG9uZUNvbnRlbnQucmVtb3ZlQ2hpbGQoc2NyaXB0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBmb3JFYWNoRWxlbWVudChjc3NFbHMsIGZ1bmN0aW9uIChzdHlsZSkge1xyXG4gICAgICAgICAgICBjc3MgKz0gc3R5bGUuaW5uZXJIVE1MICsgJ1xcbic7XHJcbiAgICAgICAgICAgIGNsb25lQ29udGVudC5yZW1vdmVDaGlsZChzdHlsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdmFyIGNvbnRlbnRXcmFwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgY29udGVudFdyYXAuYXBwZW5kQ2hpbGQoY2xvbmVDb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgaHRtbCArPSBjb250ZW50V3JhcC5pbm5lckhUTUw7XHJcblxyXG5cdFx0b3BlbkNvZGVwZW4oJ0V4YW1wbGUnLCBodG1sLCBjc3MsIGpzKTtcclxuXHR9XHJcblxyXG5cdC8vIEJpbmQgYnV0dG9uc1xyXG5cdHZhciBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtY29kZXBlbi1pZF0nKTtcclxuXHRmb3JFYWNoRWxlbWVudChidXR0b25zLCBmdW5jdGlvbiAoYnV0dG9uKSB7XHJcblx0XHR2YXIgaWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdkYXRhLWNvZGVwZW4taWQnKTtcclxuXHRcdGlmIChpZCkge1xyXG5cdFx0XHRidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG5cdFx0XHRcdG9wZW5Db2RlcGVuTlMoaWQpO1xyXG5cdFx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSkod2luZG93KTsiXX0=
